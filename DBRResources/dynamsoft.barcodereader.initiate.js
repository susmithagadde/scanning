// @Wed 05/17/181930 
/**
 * Dynamsoft JavaScript Library
 * @product Dynamsoft Barcode Reader JavaScript SDK
 * @website http://www.dynamsoft.com
 *
 * @preserve Copyright 2017, Dynamsoft Corporation
 * @author Dynamsoft R&D Team
 *
 * @version 5.1
 */
 var dynamsoft=dynamsoft||{};dynamsoft.lib=dynamsoft.lib||{};(function(lib,undefined){var OP=Object.prototype,AP=Array.prototype,toString=OP.toString,win=window,nil=undefined,EMPTY_STR="",FALSE=!1,TRUE=!0,_console=FALSE,class2TypeMap={},mix,each,navInfo,isNil,types,mixIsFunctions;lib.mix=mix=function(dest,source){for(var i in source){dest[i]=source[i]}return dest};isNil=function(o){return o===nil};isDef=function(o){return o!==nil};mix(lib,{isDef:isDef,isUndef:isNil,isUndefined:isNil,isNull:function(o){return(o===null)},isNaN:function(o){return isNaN(o)},type:function(o){if(o===null||o===nil){return String(o)}return class2TypeMap[toString.call(o)]||"object"},isPlainObject:function(obj){if(!obj||lib.type(obj)!=="object"||obj.nodeType||obj.window==obj){return FALSE}var key,objConstructor;try{if((objConstructor=obj.constructor)&&!hasOwnProperty(obj,"constructor")&&!hasOwnProperty(objConstructor.prototype,"isPrototypeOf")){return FALSE}}catch(e){return FALSE}for(key in obj){}return(isNil(key)||hasOwnProperty(obj,key))}});mixIsFunctions=function(name,lc){class2TypeMap["[object "+name+"]"]=(lc=name.toLowerCase());lib["is"+name]=function(o){return lib.type(o)===lc}};mixIsFunctions("Function");lib.each=each=function(object,fn,context){if(object){var key,val,keys,i=0,length=object.length,isObj=isNil(length)||lib.isFunction(object);context=context||null;if(isObj){keys=lib.keys(object);for(;i<keys.length;i++){key=keys[i];if(fn.call(context,object[key],key,object)===FALSE){break}}}else{for(val=object[0];i<length;val=object[++i]){if(fn.call(context,val,i,object)===FALSE){break}}}}return object};types=["String","Object","Boolean","Number"];if(Array.isArray){lib.isArray=Array.isArray}else{types.push("Array")}each(types,mixIsFunctions);if(!isNil(win.console)){_console=win.console;if(!lib.isFunction(_console.log)||!lib.isFunction(_console.error)){_console=false}}mix(lib,{debug:FALSE,log:function(txt){if(lib.debug&&_console){_console.log(txt)}},error:function(txt){if(lib.debug&&_console){_console.error(txt)}},getLogger:function(){var _=lib.log;return{warn:_,log:_,info:_,debug:_}},nil:nil,noop:function(){}});mix(lib,{startsWith:function(str,prefix){return str.lastIndexOf(prefix,0)===0},endsWith:function(str,suffix){var ind=str.length-suffix.length;return ind>=0&&str.indexOf(suffix,ind)===ind},replaceAll:function(str,sFind,sReplace){return str.replace(eval("/"+sFind+"/gi"),sReplace)},upperCaseFirst:function(str){return str.charAt(0).toUpperCase()+str.substr(1)},makeArray:function(o){if(o==null){return[]}if(lib.isArray(o)){return o}var lengthType=typeof o.length,oType=typeof o;if(lengthType!=="number"||o.alert||oType==="string"||(oType==="function"&&!("item" in o&&lengthType==="number"))){return[o]}var ret=[];for(var i=0,l=o.length;i<l;i++){ret[i]=o[i]}return ret}});var hasEnumBug=!({toString:1}.propertyIsEnumerable("toString")),enumProperties=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"];lib.keys=Object.keys||function(o){var result=[],p,i;for(p in o){if(o.hasOwnProperty(p)){result.push(p)}}if(hasEnumBug){for(i=enumProperties.length-1;i>=0;i--){p=enumProperties[i];if(o.hasOwnProperty(p)){result.push(p)}}}return result};function hasOwnProperty(o,p){return OP.hasOwnProperty.call(o,p)}var doc=win.document,docElement=doc&&doc.documentElement,head=doc.getElementsByTagName("head")[0]||docElement,scriptOnload=doc.createElement("script").readyState?function(node,callback){var oldCallback=node.onreadystatechange;node.onreadystatechange=function(){var rs=node.readyState;if(rs==="loaded"||rs==="complete"){node.onreadystatechange=null;oldCallback&&oldCallback();callback.call(this)}}}:function(node,callback){node.addEventListener("load",callback,FALSE);node.addEventListener("error",callback,FALSE)};lib.getScript=function(url,isAsync,callback){var node,u;if(!lib.isFunction(callback)){callback=function(){}}if(!lib.isString(url)||url==EMPTY_STR){callback();return}node=doc.createElement("script");u=["",url].join(EMPTY_STR);node.src=u;if(isAsync){node.async=TRUE}node.charset="utf-8";scriptOnload(node,callback);head.insertBefore(node,head.firstChild);return node};lib.getCss=function(url,callback){var node,u,c=callback;if(!lib.isFunction(c)){c=!1}if(!lib.isString(url)||url==EMPTY_STR){c&&c();return}node=doc.createElement("link");node.href=url;node.rel="stylesheet";node.async=TRUE;c&&scriptOnload(node,c);head.insertBefore(node,head.firstChild);return node};lib.getRandom=function(){var a=new Date().getTime()%10000,b=[],tmp;for(var i=0;i<5;i++){tmp=Math.floor(Math.random()*10);if(i==0&&tmp==0){i=-1;continue}b.push(tmp)}if(a<10){b.push("000")}else{if(a<100){b.push("00")}else{if(a<1000){b.push("0")}}}b.push(a);return b.join("")};mix(lib,{get:function(id){return doc.getElementById(id)},hide:function(id){var o=lib.isString(id)?lib.get(id):id;if(o){o.style.display="none"}},show:function(id){var o=lib.isString(id)?lib.get(id):id;if(o){o.style.display=EMPTY_STR}},toggle:function(id){var o=lib.isString(id)?lib.get(id):id;if(o){if(o.style.display==="none"){o.style.display=EMPTY_STR}else{o.style.display="none"}}},empty:function(el){if(!el){return}while(el.firstChild){el.removeChild(el.firstChild)}},getOffset:function(evt,_parent,target){evt=evt||window.event;var el=target||evt.target,x=0,y=0,parentLeft=0,parentTop=0,scrollTop,scrollLeft,bFixed=false;while(el&&!isNaN(el.offsetLeft)&&!isNaN(el.offsetTop)){scrollLeft=el.scrollLeft;scrollTop=el.scrollTop;if(el.tagName==="BODY"){if(bFixed){scrollLeft=0;scrollTop=0}else{scrollLeft=scrollLeft|document.documentElement.scrollLeft;scrollTop=scrollTop|document.documentElement.scrollTop}}else{if(el.style.position==="fixed"){bFixed=true}}x+=el.offsetLeft-scrollLeft;y+=el.offsetTop-scrollTop;el=el.offsetParent}if(_parent){parentLeft=_parent.left;parentTop=_parent.top}x=evt.clientX-x-parentLeft;y=evt.clientY-y-parentTop;return{x:x,y:y}},getElDimensions:function(el,bOffset){var displayFormat,elDimensions;if(!el){return false}displayFormat=el.style.display;el.style.display="";elDimensions=bOffset?{offsetTop:el.offsetTop,offsetLeft:el.offsetLeft,offsetWidth:el.offsetWidth,offsetHeight:el.offsetHeight}:{clientTop:el.clientTop,clientLeft:el.clientLeft,clientWidth:el.clientWidth?el.clientWidth:(parseInt(el.style.width)?parseInt(el.style.width):0),clientHeight:el.clientHeight?el.clientHeight:(parseInt(el.style.height)?parseInt(el.style.height):0)};el.style.display=displayFormat;return elDimensions}});var ua=navigator.userAgent.toLowerCase(),_platform=navigator.platform.toLowerCase(),_protocol=doc.location.protocol,_ssl=(_protocol==="https:"),_bFileSystem=(_protocol!=="https:"&&_protocol!=="http:"),_bWin=(_platform=="win32")||(_platform=="win64")||(_platform=="windows"),_bMac=(_platform=="mac68k")||(_platform=="macppc")||(_platform=="macintosh")||(_platform=="macintel")||(_platform=="iphone"),_bLinux=(_platform.indexOf("linux")>=0),_isX64=(_platform=="win64")||(ua.indexOf("WOW64")>=0)||(ua.indexOf("x86_64")>=0)||(ua.indexOf("win64")>=0)||(ua.indexOf("x64")>=0),_nMSIE=ua.indexOf("msie"),_nTrident=ua.indexOf("trident"),_nRV=ua.indexOf("rv:"),_nEdge=ua.indexOf("edge"),_tmp=ua.match(/version\/([\d.]+).*safari/),_bSafari=_tmp?TRUE:FALSE,_nSafari=_tmp?_tmp[1]:0,_nFirefox=ua.indexOf("firefox"),_bFirefox=(_nFirefox!=-1),_bEdge=_bWin&&!_bFirefox&&(_nEdge!=-1),_indexOfChrome=ua.indexOf("chrome"),_bChrome=!_bEdge&&(_indexOfChrome!=-1),_bIE=_bWin&&!_bFirefox&&!_bEdge&&!_bChrome&&(_nMSIE!=-1||_nTrident!=-1||_nRV!=-1),_strIEVersion="",_IEMode=0,_bGecko=ua.match(/Gecko/)?TRUE:FALSE,_bHTML5Edition=FALSE,_strBrowserVersion=EMPTY_STR,_bQuerySelector=FALSE,_nativeJson=win.JSON,guidNum=0;if(_bEdge){_tmp=ua.slice(_nEdge+5);_tmp=_tmp.slice(0,_tmp.indexOf(" "));_strIEVersion=_tmp;_tmp=_tmp.slice(0,_tmp.indexOf("."));if(_tmp>=27){_bHTML5Edition=TRUE}}else{if(_bChrome){_tmp=ua.slice(_indexOfChrome+7);_tmp=_tmp.slice(0,_tmp.indexOf(" "));_strBrowserVersion=_tmp;_tmp=_tmp.slice(0,_tmp.indexOf("."));if(_tmp>=27){_bHTML5Edition=TRUE}}else{if(_bFirefox){_tmp=ua.slice(_nFirefox+8);_tmp=_tmp.slice(0,_tmp.indexOf(" "));_strBrowserVersion=_tmp;_tmp=_tmp.slice(0,_tmp.indexOf("."));if(_tmp>=27){_bHTML5Edition=TRUE}}else{if(_bIE){if(_nMSIE!=-1){_tmp=ua.slice(_nMSIE+4);_tmp=_tmp.slice(0,_tmp.indexOf(";"));_strIEVersion=_tmp}else{if(_nRV!=-1){_tmp=ua.slice(_nRV+3);_tmp=_tmp.slice(0,_tmp.indexOf(";"));_tmp=_tmp.slice(0,_tmp.indexOf(")"));_strIEVersion=_tmp}else{if(_nTrident!=-1){_tmp=ua.slice(_nTrident+7);_tmp=_tmp.slice(0,_tmp.indexOf(";"));_strIEVersion=_tmp}}}if(_strIEVersion===""||_strIEVersion>8){_bHTML5Edition=TRUE}_strBrowserVersion=_tmp}else{if(_bSafari){if(_tmp){_strBrowserVersion=_tmp[1]}_tmp=_nSafari;_tmp=_tmp.slice(0,_tmp.indexOf("."));if(_tmp>=7){_bHTML5Edition=TRUE}}}}}}if(_bEdge||_bIE){if(doc.documentMode){_IEMode=doc.documentMode}else{_IEMode=5;if(doc.compatMode){if(doc.compatMode=="CSS1Compat"){_IEMode=7}}}}if(docElement&&docElement.querySelector&&(!_bIE||_bIE&&(_strBrowserVersion>8))){_bQuerySelector=TRUE}if(_bIE&&_strBrowserVersion<9){_nativeJson=null}dynamsoft.navInfo=navInfo={host:win,bSSL:_ssl,bFileSystem:_bFileSystem,bWin:_bWin,bMac:_bMac,bLinux:_bLinux,isX64:_isX64,bIE:_bIE,bEdge:_bEdge,bChrome:_bChrome,bFirefox:_bFirefox,bSafari:_bSafari,bGecko:_bGecko,bHTML5Edition:_bHTML5Edition,strBrowserVersion:_strBrowserVersion,IEMode:_IEMode,bQuerySelectorSupported:_bQuerySelector,nativeJson:_nativeJson,nodejs:FALSE,scrollBarWidth:false};var RE_TRIM=/^[\s\xa0]+|[\s\xa0]+$/g,trim=String.prototype.trim,indexOf=AP.indexOf,lastIndexOf=AP.lastIndexOf,filter=AP.filter,every=AP.every,some=AP.some,map=AP.map;mix(lib,{now:Date.now||function(){return +new Date()},guid:function(pre){return(pre||EMPTY_STR)+guidNum++},trim:trim?function(str){return str==null?EMPTY_STR:trim.call(str)}:function(str){return str==null?EMPTY_STR:(str+"").replace(RE_TRIM,EMPTY_STR)},filter:filter?function(arr,fn,context){return filter.call(arr,fn,context||this)}:function(arr,fn,context){var ret=[];each(arr,function(item,i,arr){if(fn.call(context||this,item,i,arr)){ret.push(item)}});return ret},indexOf:indexOf?function(item,arr){return indexOf.call(arr,item)}:function(item,arr){each(arr,function(v,k){if(v===item){return k}});return -1}});var logger=lib.getLogger(),SEP="&",EQ="=",HEX_BASE=16,htmlEntities={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},reverseEntities={},escapeReg,unEscapeReg,escapeRegExp=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var k in htmlEntities){reverseEntities[htmlEntities[k]]=k}})();function isValidParamValue(val){var t=typeof val;return val==null||(t!=="object"&&t!=="function")}function getEscapeReg(){if(escapeReg){return escapeReg}var str=EMPTY_STR;each(htmlEntities,function(entity){str+=entity+"|"});str=str.slice(0,-1);escapeReg=new RegExp(str,"g");return escapeReg}function getUnEscapeReg(){if(unEscapeReg){return unEscapeReg}var str=EMPTY_STR;each(reverseEntities,function(entity){str+=entity+"|"});str+="&#(\\d{1,5});";unEscapeReg=new RegExp(str,"g");return unEscapeReg}lib.mix(lib,{urlEncode:function(s){return encodeURIComponent(String(s))},urlDecode:function(s){return decodeURIComponent(s.replace(/\+/g," "))},fromUnicode:function(str){return str.replace(/\\u([a-f\d]{4})/ig,function(m,u){return String.fromCharCode(parseInt(u,HEX_BASE))})},escapeHtml:function(str){return(str+"").replace(getEscapeReg(),function(m){return reverseEntities[m]})},escapeRegExp:function(str){return str.replace(escapeRegExp,"\\$&")},unEscapeHtml:function(str){return str.replace(getUnEscapeReg(),function(m,n){return htmlEntities[m]||String.fromCharCode(+n)})},param:function(o,sep,eq,serializeArray){sep=sep||SEP;eq=eq||EQ;if(isNil(serializeArray)){serializeArray=TRUE}var buf=[],key,i,v,len,val,encode=lib.urlEncode;for(key in o){val=o[key];key=encode(key);if(isValidParamValue(val)){buf.push(key);if(isDef(val)){buf.push(eq,encode(val+EMPTY_STR))}buf.push(sep)}else{if(lib.isArray(val)&&val.length){for(i=0,len=val.length;i<len;++i){v=val[i];if(isValidParamValue(v)){buf.push(key,(serializeArray?encode("[]"):EMPTY_STR));if(isDef(v)){buf.push(eq,encode(v+EMPTY_STR))}buf.push(sep)}}}}}buf.pop();return buf.join(EMPTY_STR)},unparam:function(str,sep,eq){if(!lib.isString(str)||!(str=lib.trim(str))){return{}}sep=sep||SEP;eq=eq||EQ;var ret={},eqIndex,decode=lib.urlDecode,pairs=str.split(sep),key,val,i=0,len=pairs.length;for(;i<len;++i){eqIndex=lib.indexOf(eq,pairs[i]);if(eqIndex===-1){key=decode(pairs[i]);val=nil}else{key=decode(pairs[i].substring(0,eqIndex));val=pairs[i].substring(eqIndex+1);try{val=decode(val)}catch(e){logger.error("decodeURIComponent error : "+val);logger.error(e)}if(lib.endsWith(key,"[]")){key=key.substring(0,key.length-2)}}if(key in ret){if(lib.isArray(ret[key])){ret[key].push(val)}else{ret[key]=[ret[key],val]}}else{ret[key]=val}}return ret}});var splitPathRe=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/;function normalizeArray(parts,allowAboveRoot){var up=0,i=parts.length-1,newParts=[],last;for(;i>=0;i--){last=parts[i];if(last!=="."){if(last===".."){up++}else{if(up){up--}else{newParts[newParts.length]=last}}}}if(allowAboveRoot){for(;up--;up){newParts[newParts.length]=".."}}newParts=newParts.reverse();return newParts}var Path=lib.Path={resolve:function(){var resolvedPath="",resolvedPathStr,i,args=(arguments),path,absolute=0;for(i=args.length-1;i>=0&&!absolute;i--){path=args[i];if(lib.isString(path)&&!!path){resolvedPath=path+"/"+resolvedPath;absolute=path.charAt(0)==="/"}}resolvedPathStr=normalizeArray(lib.filter(resolvedPath.split("/"),function(p){return !!p}),!absolute).join("/");return((absolute?"/":"")+resolvedPathStr)||"."},normalize:function(path){var absolute=path.charAt(0)==="/",trailingSlash=path.slice(-1)==="/";path=normalizeArray(lib.filter(path.split("/"),function(p){return !!p}),!absolute).join("/");if(!path&&!absolute){path="."}if(path&&trailingSlash){path+="/"}return(absolute?"/":"")+path},join:function(){var args=lib.makeArray(arguments);return Path.normalize(lib.filter(args,function(p){return p&&(lib.isString(p))}).join("/"))},relative:function(from,to){from=Path.normalize(from);to=Path.normalize(to);var fromParts=lib.filter(from.split("/"),function(p){return !!p}),path=[],sameIndex,sameIndex2,toParts=lib.filter(to.split("/"),function(p){return !!p}),commonLength=Math.min(fromParts.length,toParts.length);for(sameIndex=0;sameIndex<commonLength;sameIndex++){if(fromParts[sameIndex]!==toParts[sameIndex]){break}}sameIndex2=sameIndex;while(sameIndex<fromParts.length){path.push("..");sameIndex++}path=path.concat(toParts.slice(sameIndex2));path=path.join("/");return path},basename:function(path,ext){var result=path.match(splitPathRe)||[],basename;basename=result[3]||"";if(ext&&basename&&basename.slice(-1*ext.length)===ext){basename=basename.slice(0,-1*ext.length)}return basename},dirname:function(path){var result=path.match(splitPathRe)||[],root=result[1]||"",dir=result[2]||"";if(!root&&!dir){return"."}if(dir){dir=dir.substring(0,dir.length-1)}return root+dir},extname:function(path){return(path.match(splitPathRe)||[])[4]||""}};var logger=lib.getLogger(),reDisallowedInSchemeOrUserInfo=/[#\/\?@]/g,reDisallowedInPathName=/[#\?]/g,reDisallowedInQuery=/[#@]/g,reDisallowedInFragment=/#/g,URI_SPLIT_REG=new RegExp("^(?:([\\w\\d+.-]+):)?(?://(?:([^/?#@]*)@)?([\\w\\d\\-\\u0100-\\uffff.+%]*|\\[[^\\]]+\\])(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Path=lib.Path,REG_INFO={scheme:1,userInfo:2,hostname:3,port:4,path:5,query:6,fragment:7};function parseQuery(self){if(!self._queryMap){self._queryMap=lib.unparam(self._query)}}function Query(query){this._query=query||""}Query.prototype={constructor:Query,clone:function(){return new Query(this.toString())},reset:function(query){var self=this;self._query=query||"";self._queryMap=null;return self},count:function(){var self=this,count=0,_queryMap,k;parseQuery(self);_queryMap=self._queryMap;for(k in _queryMap){if(lib.isArray(_queryMap[k])){count+=_queryMap[k].length}else{count++}}return count},has:function(key){var self=this,_queryMap;parseQuery(self);_queryMap=self._queryMap;if(key){return key in _queryMap}else{return !lib.isEmptyObject(_queryMap)}},get:function(key){var self=this,_queryMap;parseQuery(self);_queryMap=self._queryMap;if(key){return _queryMap[key]}else{return _queryMap}},keys:function(){var self=this;parseQuery(self);return lib.keys(self._queryMap)},set:function(key,value){var self=this,_queryMap;parseQuery(self);_queryMap=self._queryMap;if(lib.isString(key)){self._queryMap[key]=value}else{if(key instanceof Query){key=key.get()}each(key,function(v,k){_queryMap[k]=v})}return self},remove:function(key){var self=this;parseQuery(self);if(key){delete self._queryMap[key]}else{self._queryMap={}}return self},add:function(key,value){var self=this,_queryMap,currentValue;if(lib.isString(key)){parseQuery(self);_queryMap=self._queryMap;currentValue=_queryMap[key];if(isNil(currentValue)){currentValue=value}else{currentValue=[].concat(currentValue).concat(value)}_queryMap[key]=currentValue}else{if(key instanceof Query){key=key.get()}for(var k in key){self.add(k,key[k])}}return self},toString:function(serializeArray){var self=this;parseQuery(self);return lib.param(self._queryMap,nil,nil,serializeArray)}};function padding2(str){return str.length===1?"0"+str:str}function equalsIgnoreCase(str1,str2){return str1.toLowerCase()===str2.toLowerCase()}function encodeSpecialChars(str,specialCharsReg){return encodeURI(str).replace(specialCharsReg,function(m){return"%"+padding2(m.charCodeAt(0).toString(16))})}function Uri(uriStr){if(uriStr instanceof Uri){return uriStr.clone()}var components,self=this;lib.mix(self,{scheme:"",userInfo:"",hostname:"",port:"",path:"",query:"",fragment:""});components=Uri.getComponents(uriStr);each(components,function(v,key){v=v||"";if(key==="query"){self.query=new Query(v)}else{try{v=lib.urlDecode(v)}catch(e){logger.error(e+"urlDecode error : "+v)}self[key]=v}});return self}Uri.prototype={constructor:Uri,clone:function(){var uri=new Uri(),self=this;each(REG_INFO,function(index,key){uri[key]=self[key]});uri.query=uri.query.clone();return uri},resolve:function(relativeUri){if(lib.isString(relativeUri)){relativeUri=new Uri(relativeUri)}var self=this,override=0,lastSlashIndex,order=["scheme","userInfo","hostname","port","path","query","fragment"],target=self.clone();each(order,function(o){if(o==="path"){if(override){target[o]=relativeUri[o]}else{var path=relativeUri.path;if(path){override=1;if(!lib.startsWith(path,"/")){if(target.hostname&&!target.path){path="/"+path}else{if(target.path){lastSlashIndex=target.path.lastIndexOf("/");if(lastSlashIndex!==-1){path=target.path.slice(0,lastSlashIndex+1)+path}}}}target.path=Path.normalize(path)}}}else{if(o==="query"){if(override||relativeUri.query.toString()){target.query=relativeUri.query.clone();override=1}}else{if(override||relativeUri[o]){target[o]=relativeUri[o];override=1}}}});return target},getScheme:function(){return this.scheme},setScheme:function(scheme){this.scheme=scheme;return this},getHostname:function(){return this.hostname},setHostname:function(hostname){this.hostname=hostname;return this},setUserInfo:function(userInfo){this.userInfo=userInfo;return this},getUserInfo:function(){return this.userInfo},setPort:function(port){this.port=port;return this},getPort:function(){return this.port},setPath:function(path){this.path=path;return this},getPath:function(){return this.path},setQuery:function(query){if(lib.isString(query)){if(lib.startsWith(query,"?")){query=query.slice(1)}query=new Query(encodeSpecialChars(query,reDisallowedInQuery))}this.query=query;return this},getQuery:function(){return this.query},getFragment:function(){return this.fragment},setFragment:function(fragment){var self=this;if(lib.startsWith(fragment,"#")){fragment=fragment.slice(1)}self.fragment=fragment;return self},isSameOriginAs:function(other){var self=this;return equalsIgnoreCase(self.hostname,other.hostname)&&equalsIgnoreCase(self.scheme,other.scheme)&&equalsIgnoreCase(self.port,other.port)},toString:function(serializeArray){var out=[],self=this,scheme,hostname,path,port,fragment,query,userInfo;if((scheme=self.scheme)){out.push(encodeSpecialChars(scheme,reDisallowedInSchemeOrUserInfo));out.push(":")}if((hostname=self.hostname)){out.push("//");if((userInfo=self.userInfo)){out.push(encodeSpecialChars(userInfo,reDisallowedInSchemeOrUserInfo));out.push("@")}out.push(encodeURIComponent(hostname));if((port=self.port)){out.push(":");out.push(port)}}if((path=self.path)){if(hostname&&!lib.startsWith(path,"/")){path="/"+path}path=Path.normalize(path);out.push(encodeSpecialChars(path,reDisallowedInPathName))}if((query=(self.query.toString.call(self.query,serializeArray)))){out.push("?");out.push(query)}if((fragment=self.fragment)){out.push("#");out.push(encodeSpecialChars(fragment,reDisallowedInFragment))}return out.join("")}};Uri.Query=Query;Uri.getComponents=function(url){url=url||EMPTY_STR;var m=url.match(URI_SPLIT_REG)||[],ret={};each(REG_INFO,function(index,key){ret[key]=m[index]});return ret};lib.Uri=Uri;var logger=lib.getLogger();var win=navInfo.host,doc=win.document,docElem=doc&&doc.documentElement,location=win.location,domReady=0,callbacks=[],POLL_RETIRES=500,POLL_INTERVAL=40,RE_ID_STR=/^#?([\w-]+)$/,RE_NOT_WHITESPACE=/\S/,standardEventModel=!!(doc&&doc.addEventListener),DOM_READY_EVENT="DOMContentLoaded",READY_STATE_CHANGE_EVENT="readystatechange",LOAD_EVENT="load",COMPLETE="complete",addEventListener=standardEventModel?function(el,type,fn){el.addEventListener(type,fn,false)}:function(el,type,fn){el.attachEvent("on"+type,fn)},removeEventListener=standardEventModel?function(el,type,fn){el.removeEventListener(type,fn,false)}:function(el,type,fn){el.detachEvent("on"+type,fn)};lib.mix(lib,{isWindow:function(obj){return obj!=null&&obj==obj.window},globalEval:function(data){if(data&&RE_NOT_WHITESPACE.test(data)){if(win.execScript){win.execScript(data)}else{(function(data){win.eval.call(win,data)})(data)}}},ready:function(fn){if(domReady){try{fn(lib)}catch(e){lib.log(e.stack||e,"error");setTimeout(function(){throw e},0)}}else{callbacks.push(fn)}return this}});function fireReady(){if(domReady){return}if(doc&&!navInfo.nodejs){removeEventListener(win,LOAD_EVENT,fireReady)}domReady=1;for(var i=0;i<callbacks.length;i++){try{callbacks[i](lib)}catch(e){lib.log(e.stack||e,"error");setTimeout(function(){throw e},0)}}}function bindReady(){if(!doc||doc.readyState===COMPLETE){fireReady();return}addEventListener(win,LOAD_EVENT,fireReady);if(standardEventModel){var domReady=function(){removeEventListener(doc,DOM_READY_EVENT,domReady);fireReady()};addEventListener(doc,DOM_READY_EVENT,domReady)}else{var stateChange=function(){if(doc.readyState===COMPLETE){removeEventListener(doc,READY_STATE_CHANGE_EVENT,stateChange);fireReady()}};addEventListener(doc,READY_STATE_CHANGE_EVENT,stateChange);var notframe,doScroll=docElem&&docElem.doScroll;try{notframe=(win.frameElement===null)}catch(e){notframe=false}if(doScroll&&notframe){var readyScroll=function(){try{doScroll("left");fireReady()}catch(ex){setTimeout(readyScroll,POLL_INTERVAL)}};readyScroll()}}}bindReady();if(navInfo.bIE){try{doc.execCommand("BackgroundImageCache",false,true)}catch(e){}}lib.switchEvent=function(e){e=e||window.event;if(e.which==null){e.which=(e.button<2)?1:((e.button==4)?2:3)}else{e.which=(e.which<2)?1:((e.which==2)?2:3)}return e};lib.currentStyle=function(obj,prop){if(obj.currentStyle){return obj.currentStyle[prop]}else{if(window.getComputedStyle){propprop=prop.replace(/([A-Z])/g,"-$1");propprop=prop.toLowerCase();return document.defaultView.getComputedStyle(obj,null)[prop]}}return null};lib.extend=function(ParentClass,childAddConstructor){var ChildClass=function(){ParentClass.apply(this,arguments);if(childAddConstructor){childAddConstructor.apply(this,arguments)}};for(var i in ParentClass.prototype){ChildClass.prototype[i]=ParentClass.prototype[i]}ChildClass.prototype.constructor=ChildClass;return ChildClass};lib.colorStrToInt=function(str){var mystr="0x";if(/^(rgb|RGB)/.test(str)){var nums=str.replace(/[^\d,.]/g,"").split(",");for(var i=0;i<3;++i){var hex=Number(nums[i]).toString(16);if(hex.length==1){hex="0"+hex}mystr+=hex}if(nums.length==4){var hex=Math.round(Number(nums[i])*255).toString(16);if(hex.length==1){hex="0"+hex}mystr+=hex}else{mystr+="ff"}}else{if(str=="transparent"){mystr+="00000000"}else{if(/^#[0-9a-fA-f]{6}$/.test(str)){mystr+=str.replace(/#/,"")+"ff"}else{if(/^#[0-9a-fA-f]{3}$/.test(str)){for(var i=0;i<3;++i){mystr+=str[i]+str[i]}mystr+="ff"}else{mystr="-1"}}}}return Number(mystr)};lib.IntToColorStr=function(value){if(value>4294967295||value<0){return null}var str;if(!navInfo.bHTML5Edition){if(value%256==0){str="transparent"}else{str=Math.floor(value/256).toString(16);while(str.length!=6){str="0"+str}str="#"+str}}else{str="rgba("+Math.floor(value/16777216)+","+Math.floor(value/65536)%256+","+Math.floor(value/256)%256+","+(value%256)/255+")"}return str};var customEvent={fire:function(type){var self=this,args;self.exec=self.exec||{};type=type.toLowerCase();args=AP.slice.call(arguments,1);each(self.exec[type]||[],function(item){var fn=item.f,ctx=item.c||self;try{fn.apply(ctx,args)}catch(e){console.log(e)}})},on:function(type,fn,ctx){var self=this;self.exec=self.exec||{};type=type.toLowerCase();self.exec[type]=self.exec[type]||[];self.exec[type].push({f:fn,c:ctx})},off:function(type,fn,c){var self=this,exec=self.exec;if(!exec){return}if(!type){self.exec=null;return}type=type.toLowerCase();if(!fn){exec[type]=null;return}var arr=exec[type]||[];for(var i=arr.length-1;i>=0;i--){if(arr[i]===fn){arr.splice(i,1)}}}};function Attributes(config){var self=this;self.__attrs={};self.__attrVals={};self.userConfig=config;while(c){self.addAttrs(c.ATTRS);c=c.superclass?c.superclass.constructor:null}lib.mix(self.__attrs,config)}lib.mix(Attributes.prototype,{get:function(name){var self=this;if(name in self.__attrs){return self.__attrs[name]}return""},set:function(name,v){var self=this;if(name in self.__attrs){self.__attrs[name]=v}},addAttrs:function(attrsConfig){lib.mix(this.__attrs,attrsConfig)}});Attributes.extend=function(px){var SuperClass=this,childAddConstructor,ret;px=px||{};if(px.constructor){childAddConstructor=px.constructor}ret=extend(SuperClass,childAddConstructor);lib.mix(ret,px);return ret};lib.obj={Attributes:Attributes,customEvent:customEvent}})(dynamsoft.lib);(function(s){var ao,g=RegExp,ac,Z,f,k,t,aj,W,S,r,u,o,p,am=!0,d,K,b,Q,ak="dws_"+1*new Date(),al=window.document,I=0,w=0,ag=ar(),ah=ar(),E=ar(),x=function(i,e){if(i===e){r=true}return 0},G=[],T=G.pop,Y=G.push,ai=G.push,C=G.slice,F=function(av,au){var at=0,e=av.length;for(;at<e;at++){if(av[at]===au){return at}}return -1},ae="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ab=["\\[",O,"*(",z,")(?:",O,"*([*^$|!~]?=)",O,"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(",z,"))|)",O,"*\\]"].join(""),B=new g(O+"+","g"),af=new g(["^",O,"+|((?:^|[^\\\\])(?:\\\\.)*)",O,"+$"].join(""),"g"),m=new g(["^",O,"*,",O,"*"].join("")),V=new g(["^",O,"*([>+~]|",O,")",O,"*"].join("")),D=new g("="+O+"*([^\\]'\"]*?)"+O+"*\\]","g"),h=new g("^"+z+"$"),U={ID:new g("^#("+z+")"),CLASS:new g("^\\.("+z+")"),TAG:new g("^("+z+"|[*])"),ATTR:new g("^"+ab),needsContext:new g(["^",O,"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(",O,"*((?:-\\d)?\\d*)",O,"*\\)|)(?=[^-]|$)"].join(""),"i")},J=/^[^{]+\{\s*\[native \w/,aa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,P=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,l=function(i,e){if(e){if(i==="\0"){return"\uFFFD"}return i.slice(0,-1)+"\\"+i.charCodeAt(i.length-1).toString(16)+" "}return"\\"+i},q=function(){u()};try{ai.apply((G=C.call(al.childNodes)),al.childNodes);G[al.childNodes.length].nodeType}catch(aq){ai={apply:G.length?function(i,e){Y.apply(i,C.call(e))}:function(av,au){var e=av.length,at=0;while((av[e++]=au[at++])){}av.length=e-1}}}function ad(az,at,aC,aF){var ax,aD,aw,e,aE,av,aA,au=at&&at.ownerDocument,aB=at?at.nodeType:9;aC=aC||[];if(typeof az!=="string"||!az||aB!==1&&aB!==9&&aB!==11){return aC}if(!aF){if((at?at.ownerDocument||at:al)!==o){u(at)}at=at||o;if(aB!==11&&(aE=aa.exec(az))){if((ax=aE[1])){if(aB===9){if((aw=at.getElementById(ax))){if(aw.id===ax){aC.push(aw);return aC}}else{return aC}}else{if(au&&(aw=au.getElementById(ax))&&Q(at,aw)&&aw.id===ax){aC.push(aw);return aC}}}else{if(aE[2]){ai.apply(aC,at.getElementsByTagName(az));return aC}else{if((ax=aE[3])&&ac.getElementsByClassName&&at.getElementsByClassName){ai.apply(aC,at.getElementsByClassName(ax));return aC}}}}if(ac.qsa&&!E[az+" "]&&(!d||!d.test(az))){if(aB!==1){au=at;aA=az}else{if(at.nodeName.toLowerCase()!=="object"){if((e=at.getAttribute("id"))){e=e.replace(P,l)}else{at.setAttribute("id",(e=ak))}av=k(az);aD=av.length;while(aD--){av[aD]="#"+e+" "+a(av[aD])}aA=av.join(",");au=at}}if(aA){try{ai.apply(aC,au.querySelectorAll(aA));return aC}catch(ay){}finally{if(e===ak){at.removeAttribute("id")}}}}}return aj(az.replace(af,"$1"),at,aC,aF)}function ar(){var i=[];function e(at,au){if(i.push(at+" ")>Z.cacheLength){delete e[i.shift()]}return(e[at+" "]=au)}return e}function an(e){e[ak]=true;return e}function X(at){var i=o.createElement("fieldset");try{return !!at(i)}catch(au){return false}finally{if(i.parentNode){i.parentNode.removeChild(i)}i=null}}function y(e,i){}function j(i,e){var au=e&&i,at=au&&i.nodeType===1&&e.nodeType===1&&i.sourceIndex-e.sourceIndex;if(at){return at}if(au){while((au=au.nextSibling)){if(au===e){return -1}}}return i?1:-1}function R(e){return e&&typeof e.getElementsByTagName!=="undefined"&&e}ac=ad.support={};u=ad.setDocument=function(at){var e,i,au=at?at.ownerDocument||at:al;if(au===o||au.nodeType!==9||!au.documentElement){return o}o=au;p=o.documentElement;if(al!==o&&(i=o.defaultView)&&i.top!==i){if(i.addEventListener){i.addEventListener("unload",q,false)}else{if(i.attachEvent){i.attachEvent("onunload",q)}}}ac.attributes=X(function(av){av.className="i";return !av.getAttribute("className")});ac.getElementsByTagName=X(function(av){av.appendChild(o.createComment(""));return !av.getElementsByTagName("*").length});ac.getElementsByClassName=J.test(o.getElementsByClassName);ac.getById=X(function(av){p.appendChild(av).id=ak;return !o.getElementsByName||!o.getElementsByName(ak).length});if(ac.getById){Z.filter.ID=function(aw){var av=aw;return function(ax){return ax.getAttribute("id")===av}}}else{Z.filter.ID=function(aw){var av=new g(["^",aw,"$"].join(""),"g");return function(ay){var ax=typeof ay.getAttributeNode!=="undefined"&&ay.getAttributeNode("id");return ax&&av.test(ax.value)}}}Z.find.TAG=ac.getElementsByTagName?function(av,aw){if(typeof aw.getElementsByTagName!=="undefined"){return aw.getElementsByTagName(av)}else{if(ac.qsa){return aw.querySelectorAll(av)}}}:function(av,az){var aA,ay=[],ax=0,aw=az.getElementsByTagName(av);if(av==="*"){while((aA=aw[ax++])){if(aA.nodeType===1){ay.push(aA)}}return ay}return aw};Z.find.CLASS=ac.getElementsByClassName&&function(aw,av){if(typeof av.getElementsByClassName!=="undefined"){return av.getElementsByClassName(aw)}};K=[];d=[];if((ac.qsa=J.test(o.querySelectorAll))){X(function(av){p.appendChild(av).innerHTML="<a id='"+ak+"'></a><select id='"+ak+"-\r\\' msallowcapture=''><option selected=''></option></select>";if(av.querySelectorAll("[msallowcapture^='']").length){d.push("[*^$]="+O+"*(?:''|\"\")")}if(!av.querySelectorAll("[selected]").length){d.push("\\["+O+"*(?:value|"+ae+")")}if(!av.querySelectorAll("[id~="+ak+"-]").length){d.push("~=")}if(!av.querySelectorAll(":checked").length){d.push(":checked")}if(!av.querySelectorAll("a#"+ak+"+*").length){d.push(".#.+[+~]")}});X(function(aw){aw.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var av=o.createElement("input");av.setAttribute("type","hidden");aw.appendChild(av).setAttribute("name","D");if(aw.querySelectorAll("[name=d]").length){d.push("name"+O+"*[*^$|!~]?=")}if(aw.querySelectorAll(":enabled").length!==2){d.push(":enabled",":disabled")}p.appendChild(aw).disabled=true;if(aw.querySelectorAll(":disabled").length!==2){d.push(":enabled",":disabled")}aw.querySelectorAll("*,:x");d.push(",.*:")})}if((ac.matchesSelector=J.test((b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector)))){X(function(av){ac.disconnectedMatch=b.call(av,"*");b.call(av,"[s!='']:x")})}d=d.length&&new g(d.join("|"));K=K.length&&new g(K.join("|"));e=J.test(p.compareDocumentPosition);Q=e||J.test(p.contains)?function(aw,av){var ay=aw.nodeType===9?aw.documentElement:aw,ax=av&&av.parentNode;return aw===ax||!!(ax&&ax.nodeType===1&&(ay.contains?ay.contains(ax):aw.compareDocumentPosition&&aw.compareDocumentPosition(ax)&16))}:function(aw,av){if(av){while((av=av.parentNode)){if(av===aw){return true}}}return false};x=e?function(aw,av){if(aw===av){r=true;return 0}var ax=!aw.compareDocumentPosition-!av.compareDocumentPosition;if(ax){return ax}ax=(aw.ownerDocument||aw)===(av.ownerDocument||av)?aw.compareDocumentPosition(av):1;if(ax&1||(!ac.sortDetached&&av.compareDocumentPosition(aw)===ax)){if(aw===o||aw.ownerDocument===al&&Q(al,aw)){return -1}if(av===o||av.ownerDocument===al&&Q(al,av)){return 1}return S?(F(S,aw)-F(S,av)):0}return ax&4?-1:1}:function(aw,av){if(aw===av){r=true;return 0}var aC,az=0,aB=aw.parentNode,ay=av.parentNode,ax=[aw],aA=[av];if(!aB||!ay){return aw===o?-1:av===o?1:aB?-1:ay?1:S?(F(S,aw)-F(S,av)):0}else{if(aB===ay){return j(aw,av)}}aC=aw;while((aC=aC.parentNode)){ax.unshift(aC)}aC=av;while((aC=aC.parentNode)){aA.unshift(aC)}while(ax[az]===aA[az]){az++}return az?j(ax[az],aA[az]):ax[az]===al?-1:aA[az]===al?1:0};return o};ad.matches=function(i,e){return ad(i,null,null,e)};ad.matchesSelector=function(at,av){if((at.ownerDocument||at)!==o){u(at)}av=av.replace(D,"='$1']");if(ac.matchesSelector&&!E[av+" "]&&(!K||!K.test(av))&&(!d||!d.test(av))){try{var i=b.call(at,av);if(i||ac.disconnectedMatch||at.document&&at.document.nodeType!==11){return i}}catch(au){}}return ad(av,o,null,[at]).length>0};ad.contains=function(e,i){if((e.ownerDocument||e)!==o){u(e)}return Q(e,i)};ad.escape=function(e){return(e+"").replace(P,l)};ad.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};ad.uniqueSort=function(au){var av,aw=[],e=0,at=0;r=!ac.detectDuplicates;S=!ac.sortStable&&au.slice(0);au.sort(x);if(r){while((av=au[at++])){if(av===au[at]){e=aw.push(at)}}while(e--){au.splice(aw[e],1)}}S=null;return au};f=ad.getText=function(aw){var av,at="",au=0,e=aw.nodeType;if(!e){while((av=aw[au++])){at+=f(av)}}else{if(e===1||e===9||e===11){if(typeof aw.textContent==="string"){return aw.textContent}else{for(aw=aw.firstChild;aw;aw=aw.nextSibling){at+=f(aw)}}}else{if(e===3||e===4){return aw.nodeValue}}}return at};Z=ad.selectors={cacheLength:50,match:U,find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[3]=(e[3]||e[4]||e[5]||"");if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)}},filter:{TAG:function(i){var e=i.toLowerCase();return i==="*"?function(){return true}:function(at){return at.nodeName&&at.nodeName.toLowerCase()===e}},CLASS:function(e){var i=ag[e+" "];return i||(i=new g("(^|"+O+")"+e+"("+O+"|$)"))&&ag(e,function(at){return i.test(typeof at.className==="string"&&at.className||typeof at.getAttribute!=="undefined"&&at.getAttribute("class")||"")})},ATTR:function(at,i,e){return function(av){var au=ad.attr(av,at);if(au==null){return i==="!="}if(!i){return true}au+="";return i==="="?au===e:i==="!="?au!==e:i==="^="?e&&au.indexOf(e)===0:i==="*="?e&&au.indexOf(e)>-1:i==="$="?e&&au.slice(-e.length)===e:i==="~="?(" "+au.replace(B," ")+" ").indexOf(e)>-1:i==="|="?au===e||au.slice(0,e.length+1)===e+"-":false}}}};function A(){}A.prototype=Z.filters=Z.pseudos;Z.setFilters=new A();k=ad.tokenize=function(av,aA){var i,aw,ay=[],az,ax,at,e,au=ah[av+" "];if(au){return aA?0:au.slice(0)}ax=av;at=[];e=Z.preFilter;while(ax){if(!i||(aw=m.exec(ax))){if(aw){ax=ax.slice(aw[0].length)||ax}at.push((ay=[]))}i=false;if((aw=V.exec(ax))){i=aw.shift();ay.push({value:i,type:aw[0].replace(af," ")});ax=ax.slice(i.length)}for(az in Z.filter){if((aw=U[az].exec(ax))&&(!e[az]||(aw=e[az](aw)))){i=aw.shift();ay.push({value:i,type:az,matches:aw});ax=ax.slice(i.length)}}if(!i){break}}return aA?ax.length:ax?ad.error(av):ah(av,at).slice(0)};function a(av){var au=0,at=av.length,e="";for(;au<at;au++){e+=av[au].value}return e}function M(ax,av,aw){var e=av.dir,au=av.next,at=au||e,ay=aw&&at==="parentNode",i=w++;return av.first?function(aB,aA,az){while((aB=aB[e])){if(aB.nodeType===1||ay){return ax(aB,aA,az)}}return false}:function(aE,aC,aB){var aF,az,aD,aA=[I,i];if(aB){while((aE=aE[e])){if(aE.nodeType===1||ay){if(ax(aE,aC,aB)){return true}}}}else{while((aE=aE[e])){if(aE.nodeType===1||ay){aD=aE[ak]||(aE[ak]={});az=aD[aE.uniqueID]||(aD[aE.uniqueID]={});if(au&&au===aE.nodeName.toLowerCase()){aE=aE[e]||aE}else{if((aF=az[at])&&aF[0]===I&&aF[1]===i){return(aA[2]=aF[2])}else{az[at]=aA;if((aA[2]=ax(aE,aC,aB))){return true}}}}}}return false}}function v(e){return e.length>1?function(aw,av,at){var au=e.length;while(au--){if(!e[au](aw,av,at)){return false}}return true}:e[0]}function H(at,aw,av){var au=0,e=aw.length;for(;au<e;au++){ad(at,aw[au],av)}return av}function L(e,at,au,av,ay){var aw,aB=[],ax=0,az=e.length,aA=at!=null;for(;ax<az;ax++){if((aw=e[ax])){if(!au||au(aw,av,ay)){aB.push(aw);if(aA){at.push(ax)}}}}return aB}function ap(at,i,av,au,aw,e){if(au&&!au[ak]){au=ap(au)}if(aw&&!aw[ak]){aw=ap(aw,e)}return an(function(aH,aE,az,aG){var aJ,aF,aB,aA=[],aI=[],ay=aE.length,ax=aH||H(i||"*",az.nodeType?[az]:az,[]),aC=at&&(aH||!i)?L(ax,aA,at,az,aG):ax,aD=av?aw||(aH?at:ay||au)?[]:aE:aC;if(av){av(aC,aD,az,aG)}if(au){aJ=L(aD,aI);au(aJ,[],az,aG);aF=aJ.length;while(aF--){if((aB=aJ[aF])){aD[aI[aF]]=!(aC[aI[aF]]=aB)}}}if(aH){if(aw||at){if(aw){aJ=[];aF=aD.length;while(aF--){if((aB=aD[aF])){aJ.push((aC[aF]=aB))}}aw(null,(aD=[]),aJ,aG)}aF=aD.length;while(aF--){if((aB=aD[aF])&&(aJ=aw?F(aH,aB):aA[aF])>-1){aH[aJ]=!(aE[aJ]=aB)}}}}else{aD=L(aD===aE?aD.splice(ay,aD.length):aD);if(aw){aw(null,aE,aD,aG)}else{ai.apply(aE,aD)}}})}function N(ay){var at,aw,au,ax=ay.length,aB=Z.relative[ay[0].type],aC=aB||Z.relative[" "],av=aB?1:0,az=M(function(i){return i===at},aC,true),aA=M(function(i){return F(at,i)>-1},aC,true),e=[function(aF,aE,aD){var i=(!aB&&(aD||aE!==W))||((at=aE).nodeType?az(aF,aE,aD):aA(aF,aE,aD));at=null;return i}];for(;av<ax;av++){if((aw=Z.relative[ay[av].type])){e=[M(v(e),aw)]}else{aw=Z.filter[ay[av].type].apply(null,ay[av].matches);if(aw[ak]){au=++av;for(;au<ax;au++){if(Z.relative[ay[au].type]){break}}return ap(av>1&&v(e),av>1&&a(ay.slice(0,av-1).concat({value:ay[av-2].type===" "?"*":""})).replace(af,"$1"),aw,av<au&&N(ay.slice(av,au)),au<ax&&N((ay=ay.slice(au))),au<ax&&a(ay))}e.push(aw)}}return v(e)}function n(au,at){var e=at.length>0,av=au.length>0,i=function(aF,az,aE,aD,aI){var aA,aB,aG,aK=0,aC="0",aw=aF&&[],aL=[],aJ=W,ay=aF||av&&Z.find.TAG("*",aI),ax=(I+=aJ==null?1:Math.random()||0.1),aH=ay.length;if(aI){W=az===o||az||aI}for(;aC!==aH&&(aA=ay[aC])!=null;aC++){if(av&&aA){aB=0;if(!az&&aA.ownerDocument!==o){u(aA);aE=!am}while((aG=au[aB++])){if(aG(aA,az||o,aE)){aD.push(aA);break}}if(aI){I=ax}}if(e){if((aA=!aG&&aA)){aK--}if(aF){aw.push(aA)}}}aK+=aC;if(e&&aC!==aK){aB=0;while((aG=at[aB++])){aG(aw,aL,az,aE)}if(aF){if(aK>0){while(aC--){if(!(aw[aC]||aL[aC])){aL[aC]=T.call(aD)}}}aL=L(aL)}ai.apply(aD,aL);if(aI&&!aF&&aL.length>0&&(aK+at.length)>1){ad.uniqueSort(aD)}}if(aI){I=ax;W=aJ}return aw};return e?an(i):i}t=ad.compile=function(e,au){var av,at=[],ax=[],aw=E[e+" "];if(!aw){if(!au){au=k(e)}av=au.length;while(av--){aw=N(au[av]);if(aw[ak]){at.push(aw)}else{ax.push(aw)}}aw=E(e,n(ax,at));aw.selector=e}return aw};aj=ad.select=function(e,ax,aw,at){var av,ay=typeof e==="function"&&e,au=!at&&k((e=ay.selector||e));aw=aw||[];(ay||t(e,au))(at,ax,!am,aw,!ax||ax);return aw};ac.sortStable=ak.split("").sort(x).join("")===ak;ac.detectDuplicates=!!r;u();ac.sortDetached=X(function(e){return e.compareDocumentPosition(o.createElement("fieldset"))&1});if(!X(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){y("type|href|height|width",function(i,e){return i.getAttribute(e,e.toLowerCase()==="type"?1:2)})}if(!ac.attributes||!X(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){y("value",function(i,e){if(i.nodeName.toLowerCase()==="input"){return i.defaultValue}})}if(!X(function(e){return e.getAttribute("disabled")==null})){y(ae,function(i,e){var at;return i[e]===true?e.toLowerCase():(at=i.getAttributeNode(e))&&at.specified?at.value:null})}s.support=ac;s.all=ad})(dynamsoft.lib);(function(l){var Z=Array.prototype,v=Z.slice,T=Z.push,r=l.makeArray,h=document,f=h.documentElement;function J(ag,ah,af){var ae=this;if(!(ae instanceof J)){return new J(ag,ah,af)}if(!ag){return ae}if(typeof ag==="string"){l.error("Err 4001.");return ae}if(l.isArray(ag)||ag.isNodeList){T.apply(ae,r(ag));return ae}ae[0]=ag;ae.length=1;return ae}var F;F=J.prototype={isNodeList:true,length:0,item:function(af){var ae=this;if(l.isNumber(af)){if(af>=ae.length){return null}else{return new J(ae[af])}}else{return new J(af)}},slice:function(){return new J(v.apply(this,arguments))},getDOMNodes:function(){return v.call(this)},each:function(ag,af){var ae=this;l.each(ae,function(ai,ah){ai=new J(ai);return ag.call(af||ai,ai,ah,ae)});return ae},getEL:function(){return this[0]},all:function(ae){var ag,af=this;if(af.length>0){ag=J.all(ae,af)}else{ag=new J()}return ag},one:function(ae){var af=this,ah=af.all(ae),ag=ah.length?ah.slice(0,1):null;return ag}};l.mix(J,{all:function(ae,ag){var af=ag;if(af&&af.isNodeList){af=ag.getEL()}if(typeof ae==="string"){if((ae=l.trim(ae))&&ae.length>=3&&l.startsWith(ae,"<")&&l.endsWith(ae,">")){l.err("Err 4002.")}return new J(l.all(ae,af))}if(ae.isNodeList){return ae}return new J(ae)},one:function(ae,af){var ag=J.all(ae,af);return ag.length?ag.slice(0,1):null}});l.one=J.one;var M=l.support,Q=l.all;var d,R,U,I,t,m,L=document.createElement("div"),X=document.createElement("div");if(!X.style){return}X.style.cssText="float:left;opacity:.5";M.opacity=X.style.opacity==="0.5";M.cssFloat=!!X.style.cssFloat;X.style.backgroundClip="content-box";X.cloneNode(true).style.backgroundClip="";M.clearCloneStyle=X.style.backgroundClip==="content-box";L=document.createElement("div");L.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute";X.innerHTML="";L.appendChild(X);M.boxSizing=X.style.boxSizing===""||X.style.MozBoxSizing===""||X.style.WebkitBoxSizing==="";l.mix(M,{reliableHiddenOffsets:function(){if(d==null){q()}return I},boxSizingReliable:function(){if(d==null){q()}return U},pixelMarginRight:function(){if(d==null){q()}return R},pixelPosition:function(){if(d==null){q()}return d},reliableMarginRight:function(){if(d==null){q()}return t},reliableMarginLeft:function(){if(d==null){q()}return m}});function q(){var af,ae;f.appendChild(L);X.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";d=U=m=false;R=t=true;if(window.getComputedStyle){ae=window.getComputedStyle(X);d=(ae||{}).top!=="1%";m=(ae||{}).marginLeft==="2px";U=(ae||{width:"4px"}).width==="4px";X.style.marginRight="50%";R=(ae||{marginRight:"4px"}).marginRight==="4px";af=X.appendChild(document.createElement("div"));af.style.cssText=X.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";af.style.marginRight=af.style.width="0";X.style.width="1px";t=!parseFloat((window.getComputedStyle(af)||{}).marginRight);X.removeChild(af)}X.style.display="none";I=X.getClientRects().length===0;if(I){X.style.display="";X.innerHTML="<table><tr><td></td><td>t</td></tr></table>";X.childNodes[0].style.borderCollapse="separate";af=X.getElementsByTagName("td");af[0].style.cssText="margin:0;border:0;padding:0;display:none";I=af[0].offsetHeight===0;if(I){af[0].style.display="";af[1].style.display="none";I=af[0].offsetHeight===0}}f.removeChild(L)}var k,i,s=/^(top|right|bottom|left)$/;if(window.getComputedStyle){k=function(af){var ae=af.ownerDocument.defaultView;if(!ae||!ae.opener){ae=window}return ae.getComputedStyle(af)};i=function(al,af,ak){var ai,ah,aj,ae,ag=al.style;ak=ak||k(al);ae=ak?ak.getPropertyValue(af)||ak[af]:undefined;if((ae===""||ae===undefined)&&!x.contains(al.ownerDocument,al)){ae=x.style(al,af)}if(ak){if(!M.pixelMarginRight()&&K.test(ae)&&rmargin.test(af)){ai=ag.width;ah=ag.minWidth;aj=ag.maxWidth;ag.minWidth=ag.maxWidth=ag.width=ae;ae=ak.width;ag.width=ai;ag.minWidth=ah;ag.maxWidth=aj}}return ae===undefined?ae:ae+""}}else{if(f.currentStyle){k=function(ae){return ae.currentStyle};i=function(ak,ah,aj){var al,af,ae,ag,ai=ak.style;aj=aj||k(ak);ag=aj?aj[ah]:undefined;if(ag==null&&ai&&ai[ah]){ag=ai[ah]}if(K.test(ag)&&!s.test(ah)){al=ai.left;af=ak.runtimeStyle;ae=af&&af.left;if(ae){af.left=ak.currentStyle.left}ai.left=ah==="fontSize"?"1em":ag;ag=ai.pixelLeft+"px";ai.left=al;if(ae){af.left=ae}}return ag===undefined?ag:ag+""||"auto"}}}var g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,p=(/<([\w:-]+)/),e=(/^\s+/),w=/<|&#?\w+;/,G=/^-ms-/,z=/-([\da-z])/gi,A=/^(none|table(?!-c[ea]).+)/,O=(/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/);var b=["Top","Right","Bottom","Left"];var S={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:M.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};var C,Y=["Webkit","O","Moz","ms"],H="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";var X=document.createElement("div");if(!X.style){return}C=X.style;M.cssFloat=!!X.style.cssFloat;var B=function(ae,af){return af.toUpperCase()};var x={type:function(ae){if(ae==null){return ae+""}return typeof ae==="object"||typeof ae==="function"?class2type[toString.call(ae)]||"object":typeof ae},cssHooks:{},htmlPrefilter:function(ae){return ae.replace(g,"<$1></$2>")},nodeName:function(af,ae){return af.nodeName&&af.nodeName.toLowerCase()===ae.toLowerCase()},merge:function(ai,ag){var ae=+ag.length,af=0,ah=ai.length;while(af<ae){ai[ah++]=ag[af++]}if(ae!==ae){while(ag[af]!==undefined){ai[ah++]=ag[af++]}}ai.length=ah;return ai},camelCase:function(ae){return ae.replace(G,"ms-").replace(z,B)},cssProps:{"float":M.cssFloat?"cssFloat":"styleFloat"},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true}};function N(ae){if(ae in C){return ae}var ag=ae.charAt(0).toUpperCase()+ae.slice(1),af=Y.length;while(af--){ae=Y[af]+ag;if(ae in C){return ae}}}function o(ah,ae){var af,ai,ag=0,aj=typeof ah.getElementsByTagName!=="undefined"?ah.getElementsByTagName(ae||"*"):typeof ah.querySelectorAll!=="undefined"?ah.querySelectorAll(ae||"*"):undefined;if(!aj){for(aj=[],af=ah.childNodes||ah;(ai=af[ag])!=null;ag++){if(!ae||x.nodeName(ai,ae)){aj.push(ai)}else{x.merge(aj,o(ai,ae))}}}return ae===undefined||ae&&x.nodeName(ah,ae)?x.merge([ah],aj):aj}function j(af,ah){var am,aj,al,ao,aq,ap,ag,ak=af.length,ai=V(ah),ae=[],an=0;for(;an<ak;an++){aj=af[an];if(aj||aj===0){if(l.type(aj)==="object"){x.merge(ae,aj.nodeType?[aj]:aj)}else{if(!w.test(aj)){ae.push(ah.createTextNode(aj))}else{ao=ao||ai.appendChild(ah.createElement("div"));aq=(p.exec(aj)||["",""])[1].toLowerCase();ag=S[aq]||S._default;ao.innerHTML=ag[1]+x.htmlPrefilter(aj)+ag[2];am=ag[0];while(am--){ao=ao.lastChild}if(!M.leadingWhitespace&&e.test(aj)){ae.push(ah.createTextNode(e.exec(aj)[0]))}if(!M.tbody){aj=aq==="table"&&!rtbody.test(aj)?ao.firstChild:ag[1]==="<table>"&&!rtbody.test(aj)?ao:0;am=aj&&aj.childNodes.length;while(am--){if(x.nodeName((ap=aj.childNodes[am]),"tbody")&&!ap.childNodes.length){aj.removeChild(ap)}}}x.merge(ae,ao.childNodes);ao.textContent="";while(ao.firstChild){ao.removeChild(ao.firstChild)}ao=ai.lastChild}}}}if(ao){ai.removeChild(ao)}an=0;while((aj=ae[an++])){al=Q.contains(aj.ownerDocument,aj);ao=o(ai.appendChild(aj),"script");if(al){setGlobalEval(ao)}}ao=null;return ai}function V(ag){var af=H.split("|"),ae=ag.createDocumentFragment();if(ae.createElement){while(af.length){ae.createElement(af.pop())}}return ae}var E=function(aj,ai,ak,ah){var ag,af,ae={};for(af in ai){ae[af]=aj.style[af];aj.style[af]=ai[af]}ag=ak.apply(aj,ah||[]);for(af in ai){aj.style[af]=ae[af]}return ag};var W=(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;var K=new RegExp("^("+W+")(?!px)[a-z%]+$","i");function ac(ai,af,ae){var ah=true,aj=af==="width"?ai.offsetWidth:ai.offsetHeight,ag=k(ai),ak=M.boxSizing&&x.css(ai,"boxSizing",false,ag)==="border-box";if(aj<=0||aj==null){aj=i(ai,af,ag);if(aj<0||aj==null){aj=ai.style[af]}if(K.test(aj)){return aj}ah=ak&&(M.boxSizingReliable()||aj===ai.style[af]);aj=parseFloat(aj)||0}return(aj+u(ai,af,ae||(ak?"border":"content"),ah,ag))}function u(ai,af,ae,ak,ah){var ag=ae===(ak?"border":"content")?4:af==="width"?1:0,aj=0;for(;ag<4;ag+=2){if(ae==="margin"){aj+=x.css(ai,ae+b[ag],true,ah)}if(ak){if(ae==="content"){aj-=x.css(ai,"padding"+b[ag],true,ah)}if(ae!=="margin"){aj-=x.css(ai,"border"+b[ag]+"Width",true,ah)}}else{aj+=x.css(ai,"padding"+b[ag],true,ah);if(ae!=="padding"){aj+=x.css(ai,"border"+b[ag]+"Width",true,ah)}}}return aj}function P(ae){return new RegExp("^(?:([+-])=|)("+ae+")([a-z%]*)$","i")}function y(ae,ag,ah){var af=P(ag);return af?Math.max(0,af[2]-(ah||0))+(af[3]||"px"):ag}function n(af,ae,ai,an){var ao,ag=1,ak=20,am=an?function(){return an.cur()}:function(){return x.css(af,ae,"")},aj=am(),al=ai&&ai[3]||(x.cssNumber[ae]?"":"px"),ah=(x.cssNumber[ae]||al!=="px"&&+aj)&&P(x.css(af,ae));if(ah&&ah[3]!==al){al=al||ah[3];ai=ai||[];ah=+aj||1;do{ag=ag||".5";ah=ah/ag;x.style(af,ae,ah+al)}while(ag!==(ag=am()/aj)&&ag!==1&&--ak)}if(ai){ah=+ah||+aj||0;ao=ai[1]?ah+(ai[1]+1)*ai[2]:+ai[2];if(an){an.unit=al;an.start=ah;an.end=ao}}return ao}l.each(["height","width"],function(ae,af){x.cssHooks[ae]={get:function(ai,ah,ag){if(ah){return A.test(x.css(ai,"display"))&&ai.offsetWidth===0?E(ai,cssShow,function(){return ac(ai,ae,ag)}):ac(ai,ae,ag)}},set:function(ai,aj,ag){var ah=ag&&k(ai);return y(ai,aj,ag?u(ai,ae,ag,M.boxSizing&&x.css(ai,"boxSizing",false,ah)==="border-box",ah):0)}}});l.style=x.style=function(ag,af,al,ah){if(!ag||ag.nodeType===3||ag.nodeType===8||!ag.style){return}var aj,ak,am,ai=x.camelCase(af),ae=ag.style;af=x.cssProps[ai]||(x.cssProps[ai]=N(ai)||ai);am=x.cssHooks[af]||x.cssHooks[ai];if(al!==undefined){ak=typeof al;if(ak==="string"&&(aj=P(al))&&aj[1]){al=n(ag,af,aj);ak="number"}if(al==null||al!==al){return}if(ak==="number"){al+=aj&&aj[3]||(x.cssNumber[ai]?"":"px")}if(!M.clearCloneStyle&&al===""&&af.indexOf("background")===0){ae[af]="inherit"}if(!am||!("set" in am)||(al=am.set(ag,al,ah))!==undefined){ae[af]=al}}else{if(am&&"get" in am&&(aj=am.get(ag,false,ah))!==undefined){return aj}return ae[af]}};l.css=x.css=function(ak,ai,af,aj){var ah,al,ae,ag=x.camelCase(ai);ai=x.cssProps[ag]||(x.cssProps[ag]=N(ag)||ag);ae=x.cssHooks[ai]||x.cssHooks[ag];if(ae&&"get" in ae){al=ae.get(ak,true,af)}if(al===undefined){al=i(ak,ai,aj)}if(al==="normal"&&ai in cssNormalTransform){al=cssNormalTransform[ai]}if(af===""||af){ah=parseFloat(al);return af===true||isFinite(ah)?ah||0:al}return al};var a=" ",ad=/[\n\t\r]/g,ab=function(ae){return(a+ae+a).replace(ad,a)},aa=function(ai,ak){var ah=ai.className,ae,af=ak.length,aj,ag;if(ah){ae=ab(ah);aj=ah;ag=0;for(;ag<af;ag++){if(ae.indexOf(a+ak[ag]+a)<0){aj+=a+ak[ag]}}aj=l.trim(aj)}else{aj=ak.join(" ")}ai.className=aj},D=function(ai,ak){var ag=ai.className,ah,ae=ak.length,af,aj;if(ag&&ae){ah=ab(ag);af=0;for(;af<ae;af++){aj=a+ak[af]+a;while(ah.indexOf(aj)>=0){ah=ah.replace(aj,a)}}ai.className=l.trim(ah)}};l.mix(F,{before:function(af){var ag=this.getEL(),ae=af;if(typeof af==="string"&&(af=l.trim(af))&&af.length>=3&&l.startsWith(af,"<")&&l.endsWith(af,">")){ae=l.parseHTML(af)[0]}ag.insertBefore(ae,ag.childNodes[0])},append:function(af){var ag=this.getEL(),ae=af;if(typeof af==="string"&&(af=l.trim(af))&&af.length>=3&&l.startsWith(af,"<")&&l.endsWith(af,">")){ae=l.parseHTML(af)[0]}ag.appendChild(ae)},html:function(ae){this.getEL().innerHTML=ae},attr:function(ag,ae){var af=this.getEL();if(ag=="class"){af.className=ae}else{af[ag]=ae}},style:function(ag,ae){var af=this.getEL();x.style(af,ag,ae)},css:function(ae){var af=this.getEL();l.each(ae,function(ag,ah){x.style(af,ah,ag)})},addClass:function(ae){var af=this.getEL();aa(af,ae.split(a))},removeClass:function(ae){var af=this.getEL();D(af,ae.split(a))},parent:function(){var ae=this.getEL();return new J(ae.parentNode)},remove:function(){var ae=this.getEL();ae.parentNode.removeChild(ae)}});l.parseHTML=function(ag,af){if(!ag||typeof ag!=="string"){return null}if(typeof af==="boolean"){af=false}af=af||document;var ae=O.exec(ag);if(ae){return[af.createElement(ae[1])]}ae=j([ag],af);return x.merge([],ae.childNodes)}})(dynamsoft.lib);(function(d){var b=Array.prototype,a=Function.prototype;if(!d.isFunction(b.indexOf)){b.indexOf=function(g,h){var f;if(this==null){return -1}var i=Object(this);var e=i.length>>>0;if(e===0){return -1}var j=+h||0;if(Math.abs(j)===Infinity){j=0}if(j>=e){return -1}f=Math.max(j>=0?j:e-Math.abs(j),0);while(f<e){if(f in i&&i[f]===g){return f}f++}return -1}}if(!d.isFunction(a.bind)){a.bind=function(g){var f=this;if(1<arguments.length){var e=b.slice.call(arguments,1);return function(){return f.apply(g,arguments.length?e.concat(b.slice.call(arguments)):e)}}return function(){return arguments.length?f.apply(g,arguments):f.call(g)}}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}})(dynamsoft.lib);(function(a){var g=a.lib,d=a.navInfo,f=window.document,b,e;e=function(i){var h=i;if(h=="mousewheel"){h=d.bGecko?"DOMMouseScroll":"mousewheel"}return h};b={addEventListener:f.addEventListener?function(i,k,j){var h=e(k);if(i){i.addEventListener(h,j,false)}}:function(i,k,j){var h=e(k);if(i){i.attachEvent("on"+h,j)}},removeEventListener:f.removeEventListener?function(i,k,j){var h=e(k);if(i){i.removeEventListener(h,j,false)}}:function(i,k,j){var h=e(k);if(i){i.detachEvent("on"+h,j)}},getWheelDelta:function(h){h=h||window.event;var k,j=h.wheelDelta,i=h.detail;if(j){k=j/120}if(i){k=-(i%3===0?i/3:i)}return k}};g.mix(g,b)})(dynamsoft);(function(a){a.Events={registedClass:[],registedObjs:[]};var b=function(f){f=f||window.event;var d=true;a.each(a.Events.registedObjs,function(e){a.each(a.Events.registedClass,function(g){if(e instanceof g){if(e.bFocus&&e.handlerKeyDown){d=e.handlerKeyDown(f);if(!d){return false}}}})});return d};a.addEventListener(document.documentElement,"keydown",b)})(dynamsoft.lib);(function(a){a.stopPropagation=function(b){var d=b||window.event;if(d.preventDefault){d.preventDefault()}if(d.stopPropagation){d.stopPropagation()}d.returnValue=false;d.cancelBubble=true}})(dynamsoft.lib);(function(b){var a={LEFT:0,MIDDLE:1,RIGHT:2};b.EnumMouseButton=a;b.detectButton=function(d){d=d||window.event;if(d.which==null){return(d.button<2)?a.LEFT:((d.button==4)?a.MIDDLE:a.RIGHT)}else{return(d.which<2)?a.LEFT:((d.which==2)?a.MIDDLE:a.RIGHT)}};b.fireEvent=function(d,e){var f;if(doc.createEvent){f=doc.createEvent("HTMLEvents");f.initEvent(d,TRUE,TRUE);if(e.dispatchEvent){e.dispatchEvent(f)}}else{if(doc.createEventObject){f=doc.createEventObject();f.bubbles=TRUE;f.cancelable=TRUE;e.fireEvent(d,f)}else{f=new Event(d);if(e.dispatchEvent){e.dispatchEvent(f)}}}}})(dynamsoft.lib);(function(s,e,o){var l=window,h=/^(?:about|app|app\-storage|.+\-extension|file|widget)$/,F=200,b=204,g=300,t=304,n=404,f=1223,u=500,C=-1022,E="The local service (Dynamsoft Service) is disconnected.",x="open error: ",v="send error: ",i=new s.Uri(location.href),B=i&&h.test(i.getScheme()),D=false,j=function(){try{return new l.XMLHttpRequest}catch(H){}return o},w=function(){try{var H=false;s.each(["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.3.0","Msxml3.XMLHTTP"],function(J){try{return(H=new l.ActiveXObject(J))}catch(K){s.error("new xhr error: "+K.message)}});return H}catch(I){}return o},r=(!B&&l.XMLHttpRequest)?("withCredentials" in (j()||[])):false,A=l.ActiveXObject?function(H){if(e.bIE&&(parseInt(e.strBrowserVersion)<=9)){return w()}if(!r&&H&&D){return new D}return !B&&j()||w()}:j,p=function(H){return D&&(H instanceof D)},y={url:false,onSuccess:false,onError:false,onComplete:false,method:"GET",async:true,xhrFields:false,mimeType:false,username:false,password:false,data:false,dataType:"text",headers:false,contentType:"application/x-www-form-urlencoded; charset=UTF-8",beforeSend:false,afterSend:false,timeout:0,crossDomain:false},m=/^(?:GET|HEAD)$/,a=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,G={xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},z=s.nil,k,d;if(e.bIE&&parseInt(e.strBrowserVersion)<=10){z=s.noop}k={setRequestHeader:function(I,J){var H=this;H.headers[I]=J;return H},getAllResponseHeaders:function(){var H=this;return H.state===2?H.responseHeadersString:null},getNativeXhr:function(){var H=this;return H.nativeXhr},getResponseHeader:function(J){var I,H=this,K;J=J.toLowerCase();if(H.state===2){if(!(K=H.responseHeaders)){K=H.responseHeaders={};while(I=a.exec(H.responseHeadersString)){K[I[1].toLowerCase()]=I[2]}}I=K[J]}return I===o?null:I},overrideMimeType:function(I){var H=this;if(!H.state){H.mimeType=I}return H},abort:function(I){var H=this;I=I||"abort";if(H.nativeXhr){H.nativeXhr.abort()}H._ioReady(0,I);return H},_ioReady:function(L,J){var R=this,I;if(R.state===2){return}R.state=2;R.readyState=4;if(L>=F&&L<g||L===t){if(L===t){J="not modified";I=true}else{J="success";I=true}}else{if(L<0){L=0}}try{if(L>=F){R.handleResponseData()}}catch(N){s.error(N.stack||N,"error");J=N.message||"parser error"}R.status=L;R.statusText=J;var K=R,O;if(O=R.timeoutTimer){clearTimeout(O);R.timeoutTimer=0}var Q=I?"onSuccess":"onError",M,P=[R.responseData,J,R],H=K.context;M=K[Q];if(s.isFunction(M)){M.apply(H,P)}M=K.onComplete;if(s.isFunction(M)){M.apply(H,P)}},handleResponseData:function(){var J=this,H,I=J.dataType,L=J.nativeXhr;if(I==="blob"||I==="arraybuffer"){H=!!l.Blob?L.response:L.responseBody}else{if(I=="json"){if(L.responseType&&L.responseType.toLowerCase()=="json"){H=L.response}else{H=L.responseText?((l.JSON&&l.JSON.parse)?l.JSON.parse(L.responseText):s.parse(L.responseText)):{}}}else{if(I==="user-defined"){H=L.response!==o?L.response:L.responseText}else{J.responseText=H=L.responseText||"";try{var K=L.responseXML;if(K&&K.documentElement){J.responseXML=K}}catch(M){}}}}J.responseData=H},sendInternal:function(){var S=this,W=S,O,I,J,V,T,U,K,P,N,M;I=S.method;J=S.url;V=S.dataType;K=S.mimeType;if(!s.isString(J)){return}W.nativeXhr=T=A(S.crossDomain);if(!T){return}try{W.state=1;if(S.username){T.open(I,J,S.async,S.username,S.password)}else{T.open(I,J,S.async)}if((S.async||e.bIE)&&V&&V!="user-defined"&&("responseType" in T)){try{T.responseType=V}catch(Q){}}}catch(R){if(W.state<2){s.error(R.stack||R,"error");W._ioReady(-1,x+(s.isNumber(R.number)?"("+R.number+")":"")+(R.message||""))}else{s.error(R)}return}U=S.xhrFields||{};if("withCredentials" in U){if(!r){delete U.withCredentials}}for(O in U){try{T[O]=U[O]}catch(Q){s.error(Q)}}if(K&&T.overrideMimeType){T.overrideMimeType(K)}P=S.headers||{};var L=P["X-Requested-With"];if(L===false){delete P["X-Requested-With"]}if(typeof T.setRequestHeader!=="undefined"){if(S.contentType){T.setRequestHeader("Content-Type",S.contentType)}T.setRequestHeader("Accept",V&&G[V]?G[V]+(V==="*"?"":", */*; q=0.01"):G["*"]);for(O in P){T.setRequestHeader(O,P[O])}}N=!m.test(S.method);M=N&&S.data||null;if(N&&e.bIE&&parseInt(e.strBrowserVersion)<10){M=S.data}if(S.async&&S.timeout>0){W.timeoutTimer=setTimeout(function(){W.abort("timeout")},S.timeout*1000)}try{W.state=1;if(s.isFunction(W.beforeSend)){var H=W.beforeSend(T,W);if(H===false){W.abort("cancel");return}}T.send(M);if(s.isFunction(W.afterSend)){W.afterSend(W)}}catch(Q){if(W.state<2){s.error(Q.stack||Q,"error");W._ioReady(-1,v+(Q.message||""))}else{s.error(Q)}}if(!S.async||T.readyState===4){W._callback()}else{if(p(T)){T.onload=function(){T.readyState=4;T.status=F;W._callback()};T.onerror=function(){T.readyState=4;T.status=u;W._callback()}}else{T.onreadystatechange=function(){W._callback()}}}},_callback:function(I,N){var J=this,K=J.nativeXhr;try{if(K.readyState===4||N){if(p(K)){K.onerror=z;K.onload=z}else{K.onreadystatechange=z}if(N){if(K.readyState!==4){K.abort()}}else{if(!p(K)){J.responseHeadersString=K.getAllResponseHeaders()}var H=K.status,M;try{M=K.statusText}catch(L){s.error("xhr statusText error: ");s.error(L);M=""}J._ioReady(H,M)}}}catch(L){s.error(L.stack||L,"error");if(L.errorCode===C){throw {errorCode:C,errorString:E,toString:function(){return this.errorCode+": "+this.errorString}}}K.onreadystatechange=z;if(!N){J._ioReady(-1,L.message||"process error")}}},_setupCfg:function(L){var I=this,H,K,N,J,M;J=L.url;if(s.startsWith(J,"http://")||s.startsWith(J,"https://")){M=new s.Uri(J)}else{if(s.startsWith(J,"//")){L.url=J="http:"+J}M=i.resolve(J)}if(!L.dataType){H="text"}else{H=L.dataType.toLowerCase()}L.dataType=H;if(!L.method){L.method="GET"}else{L.method=L.method.toUpperCase()}if(!("crossDomain" in L)){L.crossDomain=!M.isSameOriginAs(i)}N=L.headers;for(K in N){if(s.isUndefined(N[K])){delete N[K]}}s.mix(I,L);I.state=1}};function q(I){var H=this;if(!I||!s.isString(I.url)){s.log("the url is error.");return}if(!(H instanceof q)){return new q(I)}s.mix(H,y);s.mix(H,k);if(I instanceof q){I=I.config}H.config=I;H.config.context=H;H._setupCfg(I);H.sendInternal()}q._strOpenErr=x;q._strSendErr=v;q._strConnectionToServiceLostString=E;d={ajax:q,io:{get:function(I,J,K,H){return new q({method:"GET",url:I,onSuccess:J,onError:K,dataType:H})},post:function(I,K,J,L,H){return new q({method:"POST",data:K,url:I,onSuccess:J,onError:L,dataType:H})},put:function(I,K,J,L,H){return new q({method:"PUT",data:K,url:I,onSuccess:J,onError:L,dataType:H})}}};s.mix(s,d)})(dynamsoft.lib,dynamsoft.navInfo);(function(i){var l=(function(){var p={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t",'"':'\\"'},o={},q=/["\b\f\n\r\t\x00-\x1f]/g,n=/\\\\|\\\/|\\b|\\f|\\n|\\r|\\t|\\"|\\u[0-9a-zA-Z]{4}/g;i.each(p,function(r,s){o[r]=s});o["\\/"]="/";o["\\\\"]="\\";return{quote:function(r){return'"'+r.replace(q,function(s){var t;if(!(t=p[s])){t="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(0-4)}return t})+'"'},unQuote:function(r){return r.slice(1,r.length-1).replace(n,function(s){var t;if(!(t=o[s])){t=String.fromCharCode(parseInt(s.slice(2),16))}return t})}}})();function b(o){return o<10?"0"+o:o}function j(q,p,t,r,u,o,n){var s=p[q];if(s&&typeof s==="object"){if(typeof s.toJSON==="function"){s=s.toJSON(q)}else{if(s instanceof Date){s=isFinite(s.valueOf())?s.getUTCFullYear()+"-"+b(s.getUTCMonth()+1)+"-"+b(s.getUTCDate())+"T"+b(s.getUTCHours())+":"+b(s.getUTCMinutes())+":"+b(s.getUTCSeconds())+"Z":null}else{if(s instanceof String||s instanceof Number||s instanceof Boolean){s=s.valueOf()}}}}if(t!==undefined){s=t.call(p,q,s)}switch(typeof s){case"number":return isFinite(s)?String(s):"null";case"string":return l.quote(s);case"boolean":return String(s);case"object":if(!s){return"null"}if(i.isArray(s)){return m(s,t,r,u,o,n)}return g(s,t,r,u,o,n)}return undefined}function g(E,y,q,D,C,s){var t=s;s+=D;var u,o,w,r;if(q!==undefined){u=q}else{u=i.keys(E)}var B=[];for(w=0,o=u.length;w<o;w++){r=u[w];var n=j(r,E,y,q,D,C,s);if(n!==undefined){var v=l.quote(r);v+=":";if(D){v+=" "}v+=n;B[B.length]=v}}var z;if(!B.length){z="{}"}else{if(!D){z="{"+B.join(",")+"}"}else{var x=",\n"+s;var A=B.join(x);z="{\n"+s+A+"\n"+t+"}"}}return z}function m(A,s,o,z,y,p){var q=p;p+=z;var x=[];var u=A.length;var t=0;while(t<u){var n=j(String(t),A,s,o,z,y,p);if(n===undefined){x[x.length]="null"}else{x[x.length]=n}++t}var v;if(!x.length){v="[]"}else{if(!z){v="["+x.join(",")+"]"}else{var r="\n,"+p;var w=x.join(r);v="[\n"+p+w+"\n"+q+"]"}}return v}i.stringify=function(q,n,p){var s="";var o,r;if(n){if(typeof n==="function"){r=n}else{if(i.isArray(n)){o=n}}}if(typeof p==="number"){p=Math.min(10,p);s=new Array(p+1).join(" ")}else{if(typeof p==="string"){s=p.slice(0,10)}}return j("",{"":q},r,o,s,[],"")};var d={},e={SHIFT_TYPE:1,REDUCE_TYPE:2,ACCEPT_TYPE:0,TYPE_INDEX:0,PRODUCTION_INDEX:1,TO_INDEX:2},a;d.yy={unQuote:l.unQuote};a=function(n){var o=this;o.rules=[];i.mix(o,n);o.resetInput(o.input)};a.prototype={constructor:function(n){var o=this;o.rules=[];i.mix(o,n);o.resetInput(o.input)},resetInput:function(n){i.mix(this,{input:n,matched:"",stateStack:[a.STATIC.INITIAL],match:"",text:"",firstLine:1,lineNumber:1,lastLine:1,firstColumn:1,lastColumn:1})},getCurrentRules:function(){var n=this,o=n.stateStack[n.stateStack.length-1],p=[];o=n.mapState(o);i.each(n.rules,function(q){var s=q.state||q[3];if(!s){if(o==a.STATIC.INITIAL){p.push(q)}}else{if(i.inArray(o,s)){p.push(q)}}});return p},pushState:function(n){this.stateStack.push(n)},popState:function(){return this.stateStack.pop()},getStateStack:function(){return this.stateStack},showDebugInfo:function(){var p=this,r=a.STATIC.DEBUG_CONTEXT_LIMIT,n=p.matched,q=p.match,o=p.input;n=n.slice(0,n.length-q.length);var t=(n.length>r?"...":"")+n.slice(-r).replace(/\n/," "),s=q+o;s=s.slice(0,r)+(s.length>r?"...":"");return t+s+"\n"+new Array(t.length+1).join("-")+"^"},mapSymbol:function(p){var n=this,o=n.symbolMap;if(!o){return p}return o[p]||(o[p]=(++n.symbolId))},mapReverseSymbol:function(o){var n=this,q=n.symbolMap,p,r=n.reverseSymbolMap;if(!r&&q){r=n.reverseSymbolMap={};for(p in q){r[q[p]]=p}}if(r){return r[o]}else{return o}},mapState:function(p){var n=this,o=n.stateMap;if(!o){return p}return o[p]||(o[p]=(++n.stateId))},lex:function(){var x=this,v=x.input,q,u,n,s,y,w=x.getCurrentRules();x.match=x.text="";if(!v){return x.mapSymbol(a.STATIC.END_TAG)}for(q=0;q<w.length;q++){u=w[q];var t=u.regexp||u[1],o=u.token||u[0],p=u.action||u[2]||undefined;if(n=v.match(t)){y=n[0].match(/\n.*/g);if(y){x.lineNumber+=y.length}i.mix(x,{firstLine:x.lastLine,lastLine:x.lineNumber+1,firstColumn:x.lastColumn,lastColumn:y?y[y.length-1].length-1:x.lastColumn+n[0].length});var r;r=x.match=n[0];x.matches=n;x.text=r;x.matched+=r;s=p&&p.call(x);if(s===undefined){s=o}else{s=x.mapSymbol(s)}v=v.slice(r.length);x.input=v;if(s){return s}else{return x.lex()}}}i.error("lex error at line "+x.lineNumber+":\n"+x.showDebugInfo());return undefined}};a.STATIC={INITIAL:"I",DEBUG_CONTEXT_LIMIT:20,END_TAG:"$EOF"};var f=new a({rules:[[2,/^"(\\"|\\\\|\\\/|\\b|\\f|\\n|\\r|\\t|\\u[0-9a-zA-Z]{4}|[^\\"\x00-\x1f])*"/,0],[0,/^[\t\r\n\x20]/,0],[3,/^,/,0],[4,/^:/,0],[5,/^\[/,0],[6,/^\]/,0],[7,/^\{/,0],[8,/^\}/,0],[9,/^-?\d+(?:\.\d+)?(?:e-?\d+)?/i,0],[10,/^true|false/,0],[11,/^null/,0],[12,/^./,0]]});d.lexer=f;f.symbolMap={"$EOF":1,STRING:2,COMMA:3,COLON:4,LEFT_BRACKET:5,RIGHT_BRACKET:6,LEFT_BRACE:7,RIGHT_BRACE:8,NUMBER:9,BOOLEAN:10,NULL:11,INVALID:12,"$START":13,json:14,value:15,object:16,array:17,elementList:18,member:19,memberList:20};d.productions=[[13,[14]],[14,[15],function(){return this.$1}],[15,[2],function(){return this.yy.unQuote(this.$1)}],[15,[9],function(){return parseFloat(this.$1)}],[15,[16],function(){return this.$1}],[15,[17],function(){return this.$1}],[15,[10],function(){return this.$1==="true"}],[15,[11],function(){return null}],[18,[15],function(){return[this.$1]}],[18,[18,3,15],function(){this.$1[this.$1.length]=this.$3;return this.$1}],[17,[5,6],function(){return[]}],[17,[5,18,6],function(){return this.$2}],[19,[2,4,15],function(){return{key:this.yy.unQuote(this.$1),value:this.$3}}],[20,[19],function(){var n={};n[this.$1.key]=this.$1.value;return n}],[20,[20,3,19],function(){this.$1[this.$3.key]=this.$3.value;return this.$1}],[16,[7,8],function(){return{}}],[16,[7,20,8],function(){return this.$2}]];d.table={gotos:{"0":{"14":7,"15":8,"16":9,"17":10},"2":{"15":12,"16":9,"17":10,"18":13},"3":{"19":16,"20":17},"18":{"15":23,"16":9,"17":10},"20":{"15":24,"16":9,"17":10},"21":{"19":25}},action:{"0":{"2":[1,0,1],"5":[1,0,2],"7":[1,0,3],"9":[1,0,4],"10":[1,0,5],"11":[1,0,6]},"1":{"1":[2,2,0],"3":[2,2,0],"6":[2,2,0],"8":[2,2,0]},"2":{"2":[1,0,1],"5":[1,0,2],"6":[1,0,11],"7":[1,0,3],"9":[1,0,4],"10":[1,0,5],"11":[1,0,6]},"3":{"2":[1,0,14],"8":[1,0,15]},"4":{"1":[2,3,0],"3":[2,3,0],"6":[2,3,0],"8":[2,3,0]},"5":{"1":[2,6,0],"3":[2,6,0],"6":[2,6,0],"8":[2,6,0]},"6":{"1":[2,7,0],"3":[2,7,0],"6":[2,7,0],"8":[2,7,0]},"7":{"1":[0,0,0]},"8":{"1":[2,1,0]},"9":{"1":[2,4,0],"3":[2,4,0],"6":[2,4,0],"8":[2,4,0]},"10":{"1":[2,5,0],"3":[2,5,0],"6":[2,5,0],"8":[2,5,0]},"11":{"1":[2,10,0],"3":[2,10,0],"6":[2,10,0],"8":[2,10,0]},"12":{"3":[2,8,0],"6":[2,8,0]},"13":{"3":[1,0,18],"6":[1,0,19]},"14":{"4":[1,0,20]},"15":{"1":[2,15,0],"3":[2,15,0],"6":[2,15,0],"8":[2,15,0]},"16":{"3":[2,13,0],"8":[2,13,0]},"17":{"3":[1,0,21],"8":[1,0,22]},"18":{"2":[1,0,1],"5":[1,0,2],"7":[1,0,3],"9":[1,0,4],"10":[1,0,5],"11":[1,0,6]},"19":{"1":[2,11,0],"3":[2,11,0],"6":[2,11,0],"8":[2,11,0]},"20":{"2":[1,0,1],"5":[1,0,2],"7":[1,0,3],"9":[1,0,4],"10":[1,0,5],"11":[1,0,6]},"21":{"2":[1,0,14]},"22":{"1":[2,16,0],"3":[2,16,0],"6":[2,16,0],"8":[2,16,0]},"23":{"3":[2,9,0],"6":[2,9,0]},"24":{"3":[2,12,0],"8":[2,12,0]},"25":{"3":[2,14,0],"8":[2,14,0]}}};d.parse=function h(x){var z=this,n=z.lexer,s,E,D,H=z.table,A=H.gotos,r=H.action,q=z.productions,t=[null],u=[0];n.resetInput(x);while(1){s=u[u.length-1];if(!E){E=n.lex()}if(!E){i.log("it is not a valid input: "+x,"error");return false}D=r[s]&&r[s][E];if(!D){var v=[],C;if(r[s]){i.each(r[s],function(K,L){v.push(z.lexer.mapReverseSymbol(L))})}C="Syntax error at line "+n.lineNumber+":\n"+n.showDebugInfo()+"\nexpect "+v.join(", ");i.log(C);return false}switch(D[e.TYPE_INDEX]){case e.SHIFT_TYPE:u.push(E);t.push(n.text);u.push(D[e.TO_INDEX]);E=null;break;case e.REDUCE_TYPE:var I=q[D[e.PRODUCTION_INDEX]],y=I.symbol||I[0],p=I.action||I[2],B=I.rhs||I[1],G=B.length,F=0,J,w=t[t.length-G];z.$$=w;J=undefined;for(;F<G;F++){z["$"+(G-F)]=t[t.length-1-F]}if(p){J=p.call(z)}if(J!==undefined){w=J}else{w=z.$$}if(G){u=u.slice(0,-1*G*2);t=t.slice(0,-1*G)}u.push(y);t.push(w);var o=A[u[u.length-2]][u[u.length-1]];u.push(o);break;case e.ACCEPT_TYPE:return w}}return undefined};i.parser=d;function k(v,n,w){var r=v[n],s,u,t;if(typeof r==="object"){if(i.isArray(r)){s=0;u=r.length;var q=[];while(s<u){t=k(r,String(s),w);if(t!==undefined){q[q.length]=t}}r=q}else{var x=i.keys(r);for(s=0,u=x.length;s<u;s++){var o=x[s];t=k(r,o,w);if(t===undefined){delete r[o]}else{r[o]=t}}}}return w.call(v,n,r)}i.parse=function(p,n){var o=d.parse(String(p));if(n){return k({"":o},"",n)}else{return o}}})(dynamsoft.lib);(function(m,l){var i=window,o=document,e=!0,k=!1,p={},j=(l.bIE&&l.IEMode<8),q=j&&(l.IEMode<7),r=500000,f=1000,b=function(s){var v,u,t;v=o.body.scrollTop||o.documentElement.scrollTop;if(i.innerHeight){t=i.innerHeight}else{t=o.documentElement.clientHeight}u=v+(t-s.offsetHeight)/2;s.style.top=u+"px";s._dlgInfo.isTopOverridden=e},n=function(s,u){for(var t=0;t<s.length;++t){if(s[t]==u){return e}}return k},d=function(v){for(var w=0;w<o.styleSheets.length;++w){var B=o.styleSheets[w],y=k,t=k,A,C;try{y=B.cssRules;t=o.querySelectorAll}catch(x){}if(y&&t){for(var u=0;u<y.length;++u){A=y[u];C=k;try{C=t(A.selectorText)}catch(x){}if(C&&n(C,v)){var s=A.style.getPropertyValue("top"),z=A.style.getPropertyValue("bottom");if((s&&s!="auto")||(z&&z!="auto")){return e}}}}}return k},a=function(t){var s=k;if(i.getComputedStyle){s=i.getComputedStyle(t)}else{if(t.currentStyle){s=t.currentStyle}}if(s&&s.position!="absolute"){return k}if((t.style.top!="auto"&&t.style.top!="")||(t.style.bottom!="auto"&&t.style.bottom!="")){return k}return !d(t)};p.showDialog=function(x){var y=this,u;if(y.open){m.error("showDialog called on open dialog.");return}y.open=e;y.setAttribute("open","open");if(j){u=q?o.body:o.documentElement;y._dlgInfo.docOverflow=u.style.overflow;u.style.overflow="hidden"}if(a(y)){b(y)}if(x){y._dlgInfo.modal=e;p.dm.pushDialog(y);if(j){var t,s,w=k,v=k;t=y.currentStyle.left;s=y.currentStyle.top;if(t==="auto"){if(q){y.style.textAlign="center"}t=(u.clientWidth-y.currentStyle.width)/2}else{if(t.indexOf("%")>0){w=t;t=Number(t.replace("%","")*u.clientWidth/100)}else{t=Number(t.replace("px",""))}}if(!(t>0)){t=0}if(s==="auto"){s=(u.clientHeight-y.currentStyle.height)/2}else{if(s.indexOf("%")>0){v=s;s=Number(s.replace("%","")*u.clientHeight/100)}else{s=Number(s.replace("px",""))}}if(!(s>0)){s=0}setTimeout(function(){var A=y.style,z=y._dlgInfo.mask;z.style.backgroundColor="#000";z.style.filter="alpha(opacity=30)";A.position="absolute";A.left=t+"px";A.top=s+"px"},0);y._scrollFn=function(){var A=u.scrollTop+"px",D=u.scrollLeft+"px",z=p.dm.overlay,C=y._dlgInfo.mask,B=y.style;if((s+u.scrollTop+u.clientHeight)<u.scrollHeight){B.top=s+u.scrollTop+"px"}else{B.top=A}if(z){z.style.top=A}if(C){C.style.top=A}B.left=D;if(z){z.style.left=D}if(C){C.style.left=D}setTimeout(function(){y._resizeFn()},100)};y._resizeFn=function(){var D=q?o.body:o.documentElement,B=D.clientWidth+"px",C=D.clientHeight+"px",z=p.dm.overlay,A=y._dlgInfo.mask;z.style.width=B;if(A){A.style.width=B}z.style.height=C;if(A){A.style.height=C}setTimeout(function(){var F,H,E=y.style,G=q?o.body:o.documentElement;if(w){F=Number(w.replace("%","")*G.clientWidth/100);E.left=F+"px"}if(v){H=Number(v.replace("%","")*G.clientHeight/100);E.top=H+"px"}},0)};y._scrollFn();i.attachEvent("onscroll",y._scrollFn);i.attachEvent("onresize",y._resizeFn)}}};p.closeDialog=function(s){var u=this;if(!u.open){m.error("closeDialog called on closed dialog.")}u.open=k;u.removeAttribute("open");if(j){var t=q?o.body:o.documentElement;t.style.overflow=u._dlgInfo.docOverflow}if(typeof s!="undefined"){u.returnValue=s}if(u._dlgInfo.isTopOverridden){u.style.top="auto"}if(u._dlgInfo.modal){if(j){i.detachEvent("onscroll",u._scrollFn);i.detachEvent("onresize",u._resizeFn)}p.dm.removeDialog(this)}return u.returnValue};p.createMouseEvent=function(t){var s=o.createEvent("MouseEvents");s.initMouseEvent(t.type,t.bubbles,t.cancelable,i,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget);return s};p.setup=function(s){var t=this;s.show=t.showDialog.bind(s,k);s.showModal=t.showDialog.bind(s,e);s.close=t.closeDialog.bind(s);s._dlgInfo={}};var h=function(){var t=this,s;t.pendingDialogStack=[];t.overlay=o.createElement(j?"iframe":"div");s=t.overlay.style;s.position=j?"absolute":"fixed";s.display="block";s.left=s.top=s.margin=s.padding=0;s.backgroundColor="#000";s.filter="alpha(opacity=30)";s.opacity=s.MozOpacity=0.3;s.zIndex=r;s.width="100%";if(j&&o.documentElement.clientHeight>0){s.height=o.documentElement.clientHeight+"px"}else{s.height="100%"}if(o.createEvent){m.addEventListener(t.overlay,"click",function(u){var v=p.createMouseEvent(u);o.body.dispatchEvent(v)})}},g=h.prototype;g._blockDocument=function(){if(!o.body.contains(this.overlay)){o.body.appendChild(this.overlay)}};g._unblockDocument=function(){o.body.removeChild(this.overlay)};g._updateStacking=function(){var w=this,s,u,t,v;u=w.pendingDialogStack;if(u.length==0){w._unblockDocument();return}w._blockDocument();v=r;m.each(u,function(x){v++;x._dlgInfo.mask.style.zIndex=v++;x.style.zIndex=v})};g.pushDialog=function(t){var u=this,s;if(u.pendingDialogStack.length>=f){m.error("Too many modal dialogs.");return}s=o.createElement("div");s.className="backdrop";if(j){s.style.position="absolute"}if(o.createEvent){m.addEventListener(s,"click",function(v){if(t.dispatchEvent){var w=p.createMouseEvent(v);t.dispatchEvent(w)}})}t.parentNode.insertBefore(s,t.nextSibling);t._dlgInfo.mask=s;u.pendingDialogStack.push(t);u._updateStacking()};g.removeDialog=function(u){var v=this,t,s;t=m.isArray(v.pendingDialogStack)?v.pendingDialogStack.indexOf(u):-1;if(t==-1){return}v.pendingDialogStack.splice(t,1);s=u._dlgInfo.mask;s.parentNode.removeChild(s);u._dlgInfo.mask=null;v._updateStacking()};p.dm=new h();m.dialog=p})(dynamsoft.lib,dynamsoft.navInfo);dynamsoft.lib.BASE64=(function(){var d=[];var k=[];var l=typeof Uint8Array!=="undefined"?Uint8Array:Array;var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var j=0,m=b.length;j<m;++j){d[j]=b[j];k[b.charCodeAt(j)]=j}k["-".charCodeAt(0)]=62;k["_".charCodeAt(0)]=63;function e(o){var i=o.length;if(i%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}return o[i-2]==="="?2:o[i-1]==="="?1:0}function n(i){return(i.length*3/4)-e(i)}function f(o){var s,r,p,t,q,u;var v=o.length;q=e(o);u=new l((v*3/4)-q);p=q>0?v-4:v;var w=0;for(s=0,r=0;s<p;s+=4,r+=3){t=(k[o.charCodeAt(s)]<<18)|(k[o.charCodeAt(s+1)]<<12)|(k[o.charCodeAt(s+2)]<<6)|k[o.charCodeAt(s+3)];u[w++]=(t>>16)&255;u[w++]=(t>>8)&255;u[w++]=t&255}if(q===2){t=(k[o.charCodeAt(s)]<<2)|(k[o.charCodeAt(s+1)]>>4);u[w++]=t&255}else{if(q===1){t=(k[o.charCodeAt(s)]<<10)|(k[o.charCodeAt(s+1)]<<4)|(k[o.charCodeAt(s+2)]>>2);u[w++]=(t>>8)&255;u[w++]=t&255}}return u}function h(i){return d[i>>18&63]+d[i>>12&63]+d[i>>6&63]+d[i&63]}function g(p,t,o){var s;var q=[];for(var r=t;r<o;r+=3){s=(p[r]<<16)+(p[r+1]<<8)+(p[r+2]);q.push(h(s))}return q.join("")}function a(u){var s;var v=u.length;var w=v%3;var p="";var r=[];var o=16383;for(var t=0,q=v-w;t<q;t+=o){r.push(g(u,t,(t+o)>q?q:(t+o)))}if(w===1){s=u[v-1];p+=d[s>>2];p+=d[(s<<4)&63];p+="=="}else{if(w===2){s=(u[v-2]<<8)+(u[v-1]);p+=d[s>>10];p+=d[(s>>4)&63];p+=d[(s<<2)&63];p+="="}}r.push(p);return r.join("")}this.byteLength=n;this.toByteArray=f;this.fromByteArray=a;return this})();(function(e){if(dynamsoft.dcpV2){return}var b=dynamsoft.navInfo,d,a={bConnected:false,curPortIndex:0,bTrial:true,bConnectNumLimited:true,IMAXCONNECTCOUNT:2};dynamsoft.dcpV2=d={ip:"127.0.0.1",ports:[[18625,18626],[18993,18994]],sdkVersion:[13,0,0,"0404"],detect:a,versionInfo:function(j){var i=0,g=function(n,l){var k=[d._getPreUrl(a.curPortIndex),d._getModuleName(),d._getModuleVer(),"/VersionInfo?ts=",e.now()].join(""),m=e.stringify({id:"1",method:"VersionInfo",version:"dwasm_"+d.sdkVersion.join(""),parameter:[]});e.ajax({method:"POST",url:k,data:m,onSuccess:n,onError:l})},h=function(k,l,m){++i;a.curPortIndex=i%d.ports.length;a.bConnected=false;if(a.bConnectNumLimited&&i>=a.IMAXCONNECTCOUNT){if(e.isFunction(j)){setTimeout(function(){j(k,l,m)},0)}return}setTimeout(function(){g(f,h)},1000)},f=function(l,n,p){var m=d._getJSON(l);if(m&&"result" in m){m=m.result;if(e.isArray(m)&&m.length>1&&m[0]&&m[1]){var k=m[0].split(","),o=m[1].toLowerCase();if(d._isCompitable(k,d.sdkVersion)){a.bTrial=o.indexOf("trial")>=0;a.curPort=d.ports[i%d.ports.length];a.bConnected=true;if(e.isFunction(j)){setTimeout(function(){j(l,n,p)},0);return}}}}setTimeout(h,1000)};g(f,h)},loadZip:function(f,i,h,j){var g=[d._getPreUrl(a.curPortIndex),d._getModuleName(),d._getModuleVer(),"/LoadZipFromBytes?ts=",e.now()].join("");new e.ajax({method:"POST",url:g,async:true,data:f,mimeType:"text/plain; charset=x-user-defined",onSuccess:function(l,k,n){try{resObj=e.parse(l);if(resObj.result[0]==true){h(resObj,k,n)}else{throw""}}catch(m){j(l,k,n)}},onError:j})},_getPreUrl:function(h){var f,g;if(b.bSSL){g="https://";f=d.ports[h][1]}else{g="http://";f=d.ports[h][0]}return[g,d.ip,":",f,"/"].join("")},_isCompitable:function(g,f){return(g.length>3&&g[0]==f[0]&&g[1]==f[1])},_getJSON:function(f){return f?e.parse(f):!1},_getModuleName:function(){return"dcp/dwasm_"},_getModuleVer:function(){return d.sdkVersion.join("")}}})(dynamsoft.lib);var dynamsoft=dynamsoft||{};dynamsoft.dbrEnv=dynamsoft.dbrEnv||{};dynamsoft.dbrEnv.version="5.1.0.0404";dynamsoft.dbrEnv.port=[18625,18993];dynamsoft.dbrEnv.portSSL=[18626,18994];dynamsoft.dbrEnv.ifShowDialogWhenModuleLoadFail=false;dynamsoft.dbrEnv.ifThrowException=false;dynamsoft.dbrEnv.isAutoInit=false;dynamsoft.dbrEnv.qTaskTimeout=2;(function(a,b){if(a._innerDLLoaded){return}a._download=function(e,g,k,f,h){var d=-1,j=g&&b.isFunction(h)?function(n,q){var o=(n.total===0)?100:Math.round(n.loaded*100/n.total),m;if(d!==o){m=h(o)}d=o;if(m===true){q.abort()}}:false,l=g&&b.isFunction(h)?function(m,n){if(!m||dynamsoft.navInfo.bIE&&parseInt(dynamsoft.navInfo.strBrowserVersion)<=9){return}b.addEventListener(m,"progress",function(o){delete (o.totalSize);delete (o.position);j(o,m)})}:!1,i={beforeSend:l,method:"GET",url:e,dataType:"blob",onSuccess:k,onError:f,async:g};if(g){if(dynamsoft.navInfo.bIE&&parseInt(dynamsoft.navInfo.strBrowserVersion)<10){i.contentType="text/plain; charset=x-user-defined";i.mimeType="text/plain; charset=x-user-defined";i.headers={"Accept-Charset":"x-user-defined"}}else{i.xhrFields={responseType:dynamsoft.navInfo.bSafari?"arraybuffer":"blob"};i.onError=function(q,s,n){if(dynamsoft.navInfo.bSafari){var r;try{r=String.fromCharCode.apply(null,new Uint8Array(q))}catch(o){r=""}f(r,s,n)}else{var m=new window.FileReader();try{m.readAsText(q)}catch(p){f("",s,n)}m.onloadend=function(){var t=m.result;f(t,s,n)}}}}}else{if(dynamsoft.navInfo.bIE&&dynamsoft.navInfo.bHTML5Edition&&window.Uint8Array){i.xhrFields={responseType:"arraybuffer"};i.onSuccess=function(o,p,n){var m=null;if(o){m=new Uint8Array(o)}k(m,p,n)};i.onError=function(o,q,m){var p;try{p=String.fromCharCode.apply(null,new Uint8Array(o))}catch(n){p=""}f(p,q,m)}}else{i.contentType="text/plain; charset=x-user-defined";i.mimeType="text/plain; charset=x-user-defined";if(dynamsoft.navInfo.bIE&&parseInt(dynamsoft.navInfo.strBrowserVersion)<10){i.headers={"Accept-Charset":"x-user-defined"}}i.onSuccess=function(q,s,o){var r,n,m;if(dynamsoft.navInfo.bIE){m=o.nativeXhr.responseBody}else{r=o.nativeXhr.responseText;n=r.length;m=new Uint8Array(n);for(var p=0;p<n;p++){m[p]=r.charCodeAt(p)}}k(dynamsoft.navInfo.bSafari?m.buffer:m,s,o)}}}b.ajax(i)};a._innerDLLoaded=true})(dynamsoft.dbrEnv,dynamsoft.lib);(function(d,e){if(d._errorLoaded){return}d.EnumDBRErrorCode={OK:0,ParameterNumberUnmatched:-1001,TypeNotValid:-1002,ValueOutOfRange:-1003,ValueNotValid:-1008,HttpError:-1012,LicenseDomainInvalid:-1015,ConvertBase64Failed:-1028,JsonParseFailed:-1029,DownloadDBRModuleFailed:-4001,SendDBRModuleFailed:-4002,ConnectDBRModuleFailed:-4003,Unknown:-10000,NoMemory:-10001,NullReference:-10002,LicenseExpired:-10004,FileTypeNotSupported:-10006,IndexInvalid:-10008,BarcodeFormatInvalid:-10009,CustomedRegionInvalid:-10010,MaxBarcodeNumberInvalid:-10011,ImageReadFailed:-10012,TiffReadFailed:-10013,LicenseQRInvalid:-10016,License1DInvalid:-10017,LicensePDF417Invalid:-10019,LicenseDataMatrixInvalid:-10020,DIBBufferInvalid:-10018,PageNumberInvalid:-10023,ServiceInternalError:-20000};d._DBRErrorStr={};var a=d.EnumDBRErrorCode;var b=d._DBRErrorStr;b[a.OK]="Successful.";b[a.ParameterNumberUnmatched]="One or more parameters are missing.";b[a.TypeNotValid]="The type of parameter {0} is invalid.";b[a.ValueOutOfRange]="The value of parameter {0} is out of range.";b[a.ValueNotValid]="The value of parameter {0} is invalid.";b[a.HttpError]="The server returned the error code {0}.";b[a.LicenseDomainInvalid]="The domain of your current site does not match the domain bound in the current product key, please contact the site administrator.";b[a.ConvertBase64Failed]="The conversion to base64 string failed.";b[a.JsonParseFailed]="Failed to parse json string.";b[a.DownloadDBRModuleFailed]="Failed to download the DBR module. Please check the network connection and try again later.";b[a.SendDBRModuleFailed]="Failed to send the DBR module to Dynamsoft Service. Please check the network connection and try again later.";b[a.ConnectDBRModuleFailed]="Failed to connect to the DBR module. Please check the network connection and try again later.";b[a.Unknown]="Unknown error.";b[a.NoMemory]="Not enough memory.";b[a.NullReference]="The object isn't set to an instance.";b[a.LicenseExpired]="License is expired.";b[a.FileTypeNotSupported]="The file type to decode is not supported.";b[a.IndexInvalid]="Index is invalid.";b[a.BarcodeFormatInvalid]="Barcode format is invalid.";b[a.CustomedRegionInvalid]="Barcode custom region to decode is invalid.";b[a.MaxBarcodeNumberInvalid]="The maximum barcode number is invalid.";b[a.ImageReadFailed]="Read image fails.";b[a.TiffReadFailed]="Read TIFF type image fails.";b[a.LicenseQRInvalid]="You do not have a valid QR Barcode license.";b[a.License1DInvalid]="You do not have a valid 1D Barcode license.";b[a.LicensePDF417Invalid]="You do not have a valid PDF417 barcode license.";b[a.LicenseDataMatrixInvalid]="You do not have a valid DATAMATRIX barcode license.";b[a.DIBBufferInvalid]="Invalid DIB Buffer.";b[a.PageNumberInvalid]="The page number is invalid.";b[a.ServiceInternalError]="({0}) {1}";d._errorLoaded=true})(dynamsoft.dbrEnv,dynamsoft.lib);(function(h,i){if(h._initLoaded){return}var j=false;function m(){return(dynamsoft.navInfo.bSSL?"https://":"http://")+"127.0.0.1:"+(dynamsoft.navInfo.bSSL?h.portSSL[j?1:0]:h.port[j?1:0])+"/dcp/dbr_"+h.version.replace(/\./g,"")+"/"}h._urlRoot=m();function d(p){var n=document.createElement("div");var o=(new Date()).getTime();n.innerHTML="<div id='dbrdlg"+o+"' style='box-sizing: border-box; font-family:verdana,sans-serif; position: fixed; left: 0; top: 0; width: 100%; height: 100%; z-index:500000'><div style='position: absolute; left: 0; top: 0; width: 100%; height: 100%; *height:expression(document.body.offsetHeight+\"px\"); background-color: #000; opacity: 0.3; filter:alpha(opacity:30)\\9; z-index: 500000;'></div><div style='box-sizing: border-box; color: #606060; position:fixed;  _position:absolute; margin: auto; padding: 5px; left: 0; *left:50%;*margin-left:-196px; right: 0; top: 0; *top:expression((document.documentElement.clientHeight>300?document.documentElement.clientHeight/2:150)+\"px\");*margin-top:-137px; bottom: 0; width: 392px; height: 274px; z-index: 500002; border: 1px solid #e7e7e7; background-color: #f1f2f2; overflow-y:hidden;'><div style='box-sizing: border-box; height: 264px; padding: 15px; border: 1px solid #e7e7e7; background-color: #fff;'><img src='"+h.resourcesPath+"/logo.gif'><div style='font-size: 12px; color: #0000ed; position: absolute; right: 15px; top: 15px; cursor: pointer; text-decoration: none;' onclick='document.getElementById(\"dbrdlg"+o+'").style.display="none"\'>X</div>'+p+"</div></div>"+((dynamsoft.navInfo.bIE&&parseInt(dynamsoft.navInfo.strBrowserVersion)<=6)?"<iframe frameborder=0 style='position:absolute; left:0; top:0; width: 100%; height:expression(document.body.offsetHeight+\"px\"); filter:alpha(opacity:0); z-index: 499999;'></iframe>":"")+"</div>";var q=n.childNodes[0];return q}var e=0;var k=6;var l=h.EnumDBRErrorCode;var b=h._DBRErrorStr;var g=null;var a;h.init=function(o,n){if(o&&typeof o!="function"){throw"init(onSuccess, onError): Argument 'onSuccess' must be a function. "}if(n&&typeof n!="function"){throw"init(onSuccess, onError): Argument 'onError' must be a function. "}if(g!=null){return}dynamsoft.initOrder=dynamsoft.initOrder||[];dynamsoft.initOrder.push("dbr");g=setInterval(function(){if(dynamsoft.initOrder&&dynamsoft.initOrder[0]=="dbr"){a=null;dynamsoft.initOrder.shift();clearInterval(g);h._connectDWAS(o,n)}},100)};var f=function(){var n=d("<style>.btn-dbr-download-dwas:hover{background-position: 0 -34px;} .btn-dbr-download-dwas:active{background-position: 0 -68px;}</style><div style='font-weight: bold;'>Dynamsoft Service is not installed</div><div style='text-align: center; padding: 20px 0;'><a class='btn-dbr-download-dwas' href='"+h.resourcesPath+"/DynamsoftServiceSetup.exe?t="+(new Date()).getTime()+"&filename=DynamsoftServiceSetup.exe' target='_blank' style=\"display: inline-block; background-image: url('"+h.resourcesPath+"/btn-download.png'); background-repeat: no-repeat; width: 180px; height: 34px; position: relative; margin: 0 auto; cursor: pointer;\"></a><div style='margin-top: 5px; font-style: italic; font-size: 12px;'>* Please manually install it</div></div><div style='font-size: 14px; line-height: 25px;'>If you still see the dialog after the installation, please check this <a style='text-decoration:none;color:#f58831;' href='http://kb.dynamsoft.com/questions/923' target='_blank'>article</a> for troubleshooting.</div>");a=n.id;document.body.appendChild(n)};h._connectDWAS=function(o,n){dynamsoft.dcpV2.versionInfo(function(r,q,u){if(dynamsoft.dcpV2.detect.bConnected){if(typeof console!="undefined"){try{var p=i.parse(r);console.log(p.result[0]+" "+p.result[1])}catch(s){console.log(r)}}var t=document.getElementById(a);if(t){t.style.display="none"}j=!!dynamsoft.dcpV2.detect.curPortIndex;h._loadModule(o,n)}else{if(!a){f()}setTimeout(function(){h._connectDWAS(o,n)},3000)}})};h._loadModule=function(o,n){h._urlRoot=m();j=!j;i.ajax({method:"POST",url:h._urlRoot+"VersionInfo",data:i.stringify({method:"VersionInfo"}),onSuccess:function(q,p,s){if(typeof console!="undefined"){try{console.log(q.result[0]+" "+q.result[1])}catch(r){console.log(q)}}g=null;e=0;if(o){o(q,p,s)}},onError:function(r,q,s){if(e==1){var p=h.resourcesPath+"/"+(dynamsoft.navInfo.bMac?"Mac":"Win")+"DBR_"+h.version+".zip?t="+(new Date()).getTime();h._download(p,true,function(v,t,u){dynamsoft.dcpV2.loadZip(v,100,function(){},function(x,w,y){if(h.ifShowDialogWhenModuleLoadFail){document.body.appendChild(d("<p style='margin-top:30px'>"+b[l.SendDBRModuleFailed]+" Network status: "+y.status+"</p>"))}g=null;e=0;if(n){n(l.SendDBRModuleFailed,b[l.SendDBRModuleFailed])}})},function(u,t,v){if(h.ifShowDialogWhenModuleLoadFail){document.body.appendChild(d("<p style='margin-top:30px'>"+b[l.DownloadDBRModuleFailed]+" Network status: "+v.status+(v.status==404?"":(v.status==0?". It might be a cross origin requests from 'file://'. The site must be deployed on a web server to download DbrModule zip. ":""))+"</p>"))}g=null;e=0;if(n){n(l.DownloadDBRModuleFailed,b[l.DownloadDBRModuleFailed])}},null)}if(g==null){return}++e;if(e>=k){g=null;e=0;if(n){n(l.ConnectDBRModuleFailed,b[l.ConnectDBRModuleFailed])}return}setTimeout(function(){h._loadModule(o,n)},3000)},dataType:"json",async:true,timeout:dynamsoft.dbrEnv.qTaskTimeout})};if(h.isAutoInit){h.init(null,function(){alert("DBR init fail.")})}h._initLoaded=true})(dynamsoft.dbrEnv,dynamsoft.lib);(function(a,b){if(a._enumLoaded){return}a.EnumBarcodeFormat={EBF_All:0,EBF_OneD:1023,EBF_CODE_39:1,EBF_CODE_128:2,EBF_CODE_93:4,EBF_CODABAR:8,EBF_ITF:16,EBF_EAN_13:32,EBF_EAN_8:64,EBF_UPC_A:128,EBF_UPC_E:256,EBF_INDUSTRIAL_25:512,EBF_PDF417:33554432,EBF_QR_CODE:67108864,EBF_DATAMATRIX:134217728};a.EnumImageCaptureDevice={EICD_Unknown:0,EICD_Scanner:1,EICD_Camera:2,EICD_Fax:3};a.EnumBarcodeColorMode={EBCM_DarkOnLight:0,EBCM_LightOnDark:1,EBCM_DarkAndLight:2};a.EnumBarcodeTextEncoding={EBTE_Default:0,EBTE_SHIFT_JIS_932:932,EBTE_GB2312_936:936,EBTE_Korean_949:949,EBTE_BIG5_950:950,EBTE_UTF16:1200,EBTE_UTF16BE:1201,EBTE_UTF8:65001};a.EnumBarcodeOrientationType={EBOT_Horizontal:0,EBOT_Vertical:1};a.EnumScanRegionSide={ESRS_Left:0,ESRS_Top:1,ESRS_Right:2,ESRS_Bottom:3};a._EnumDataStoreType={Binary:0,Base64:1,InnerUrl:4000};a._EnumImageType={Unknown:0,BMP:1,JPG:2,TIF:3,PNG:4,PDF:5,GIF:1001,Invalid:-1};a._getImageMimeTypeFromStr=function(e){var d=a._EnumImageType;switch(e){case"":case"application/octet-stream":return d.Unknown;case"image/bmp":return d.BMP;case"image/jpeg":return d.JPG;case"image/tiff":return d.TIF;case"image/png":return d.PNG;case"application/pdf":return d.PDF;case"image/gif":return d.GIF;default:return d.Invalid}};a._getImageTypeFromBinary=function(k){if(typeof Blob!="undefined"&&k instanceof Blob){return a._getImageMimeTypeFromStr(k.type)}var f;if(k.byteLength&&k.slice){var j=k.byteLength>7?k.slice(0,7):k;f=new Uint8Array(j)}else{if(k.length&&k.slice){f=k.length>7?k.slice(0,7):k}else{if(k.length&&k.subarray){f=k.length>7?k.subarray(0,7):k}else{return a._EnumImageType.Unknown}}}var d="";for(var e=0;e<f.length;++e){var h=f[e].toString(16);if(h.length==1){h="0"+h}d+=h}var g=a._EnumImageType;if(d.indexOf("424d")==0){return g.BMP}else{if(d.indexOf("ffd8ff")==0){return g.JPG}else{if(d.indexOf("49492a00")==0){return g.TIF}else{if(d.indexOf("89504e47")==0){return g.PNG}else{if(d.indexOf("255044462d312e")==0){return a._EnumImageType.PDF}else{if(d.indexOf("47494638")==0){return g.GIF}else{return g.Invalid}}}}}}};a._isInEnum=function(f,d){for(var e in d){if(d[e]===f){return true}}return false};a._enumLoaded=true})(dynamsoft.dbrEnv,dynamsoft.lib);(function(j,l){if(j._barcodeReaderLoaded){return}var q=j.EnumDBRErrorCode;var b=j._DBRErrorStr;function f(s){return(typeof s=="number")&&(s>=-2147483648)&&(s<=2147483647)&&(s%1===0)}function k(s){return(typeof s=="number")&&(s>=0)&&(s<=4294967295)&&(s%1===0)}function i(s){return(typeof s=="number")&&(s>=0)&&(s<=2147483647)&&(s%1===0)}function p(s){return(typeof s=="number")&&(s>=1)&&(s<=2147483647)&&(s%1===0)}function r(v,u,t,s,w){this.Left=v;this.Top=u;this.Right=t;this.Bottom=s;this.ByPercentage=w?1:0}function m(s,t){this.MinAngle=s;this.MaxAngle=t}function a(s){var u;var t;j._download(s,false,function(w,v,x){u=w},function(w,v,x){t={};t.wrapedXhr=x},null);if(t){throw t}return u}function o(s,u,t){j._download(s,true,u,t,null)}function n(v,u,x){if((typeof ArrayBuffer!="undefined")&&(v instanceof ArrayBuffer)){v=new Uint8Array(v)}if((typeof Uint8Array!="undefined")&&(v instanceof Uint8Array)||(v instanceof Array)){var t=null;try{t=l.BASE64.fromByteArray(v)}catch(w){}if(!u){return t}else{x(t)}}else{if((typeof Blob!="undefined")&&(v instanceof Blob)&&u){var s=new FileReader();s.onload=function(z){var y=z.target.result;x(y.substr(y.indexOf(",")+1))};s.readAsDataURL(v)}else{if(!u){return null}else{if(u){x(null)}}}}}function h(s){var v=s.length>12?s.slice(0,12):s;var t;try{t=l.BASE64.toByteArray(v)}catch(w){return false}var u=j._getImageTypeFromBinary(t);if(u!=j._EnumImageType.Invalid&&u!=j._EnumImageType.PDF){return true}else{return false}}function e(t){var s=j._getImageTypeFromBinary(t);if(s!=j._EnumImageType.Invalid&&s!=j._EnumImageType.PDF){return true}else{return false}}function g(s){switch(s){case 0:case q.LicenseExpired:case q.LicenseQRInvalid:case q.License1DInvalid:case q.LicensePDF417Invalid:case q.LicenseDataMatrixInvalid:return false;default:return true}}var d=function(){this.useOneDDeblur=true;this.imageCaptureDevice=j.EnumImageCaptureDevice.EICD_Unknown;this.barcodeFormats=j.EnumBarcodeFormat.EBF_All;this.maxBarcodesNumPerPage=2147483647;this.timeoutPerPage=2147483647;this.barcodeColorMode=j.EnumBarcodeColorMode.EBCM_DarkOnLight;this.barcodeTextEncoding=j.EnumBarcodeTextEncoding.EBTE_Default;this.Pages=[];this.Regions=[];this.AngleRanges=[];this.errorCode=q.OK;this.errorStr=b[q.OK]};d.prototype.readBinary=function(s){if(arguments.length<1){this._setError(q.ParameterNumberUnmatched);return null}if(typeof Blob=="undefined"||!(s instanceof Blob)){this._setError(q.TypeNotValid,["blob"]);return null}if(!this._checkAndRepairOption()){return null}if(!e(s)){this._setError(q.FileTypeNotSupported);return null}var v={method:"ReadBarcode",parameter:[j.productKey,j._EnumDataStoreType.Binary,null,this._toServiceStr()]};var t=j._urlRoot+"ReadBarcode/LoadZipFromBytes?cmd="+encodeURIComponent(l.stringify(v));var u=null;var w;var x;l.ajax({method:"POST",url:t,data:s,onSuccess:function(z,y,A){var B=l.parse(z);if(B===false){w=q.JsonParseFailed;return}w=B.exception;x=[B.description];if(g(B.exception)){return}u=new j.ReadResult(B)},onError:function(z,y,A){w=q.HttpError;x=[A.status]},dataType:"text",async:false});this._setError(w,x);return u};d.prototype.readBinaryAsync=function(u,t,w,y){if(arguments.length<4){this._setError(q.ParameterNumberUnmatched);return false}if((typeof y!="function")){this._setError(q.TypeNotValid,["asyncFailureFunc"]);return false}if(typeof Blob=="undefined"||!(u instanceof Blob)){this._setError(q.TypeNotValid,["blob"],y,t);return false}if(typeof w!="function"){this._setError(q.TypeNotValid,["asyncSuccessFunc"],y,t);return false}if(!this._checkAndRepairOption(y,t,true)){return true}if(!e(u)){this._setThrowDisbleError(q.FileTypeNotSupported,null,y,t);return true}var x={method:"ReadBarcode",parameter:[j.productKey,j._EnumDataStoreType.Binary,null,this._toServiceStr()]};var v=j._urlRoot+"ReadBarcode/LoadZipFromBytes?cmd="+encodeURIComponent(l.stringify(x));var s=this;l.ajax({method:"POST",url:v,data:u,onSuccess:function(B,A,C){var D=l.parse(B);if(D===false){D={};D.exception=q.JsonParseFailed}s._setThrowDisbleError(D.exception,[D.description],y,t);if(g(D.exception)){return}var z=new j.ReadResult(D);w(t,z)},onError:function(A,z,B){s._setThrowDisbleError(q.HttpError,[B.status],y,t)},dataType:"text",async:true});return true};d.prototype.readURL=function(B){if(arguments.length<1){this._setError(q.ParameterNumberUnmatched);return null}if(typeof B!="string"){this._setError(q.TypeNotValid,["imageUrl"]);return null}if(B.length==0){this._setError(q.ValueNotValid,["imageUrl"]);return null}B=l.trim(B);if(!this._checkAndRepairOption()){return null}var z=(B.indexOf("dwt://")==0||B.indexOf("dcs://")==0);var y;var u;if(!z){try{y=a(B)}catch(x){this._setError(q.HttpError,[x.wrapedXhr.status]);return null}u=n(y)}var s=j._urlRoot+"ReadBarcode";var t={method:"ReadBarcode",parameter:[j.productKey,null,null,this._toServiceStr()]};var v;if(z){t.parameter[1]=j._EnumDataStoreType.InnerUrl;t.parameter[2]=B;v=l.stringify(t)}else{if(u){if(!h(u)){this._setError(q.FileTypeNotSupported);return null}t.parameter[1]=j._EnumDataStoreType.Base64;t.parameter[2]=u;v=l.stringify(t)}else{if(typeof y=="unknown"){t.parameter[1]=j._EnumDataStoreType.Binary;s+="/LoadZipFromBytes?cmd="+encodeURIComponent(l.stringify(t));v=y}else{this._setError(q.ValueNotValid,["imageUrl"]);return null}}}var w=null;var A;var C;l.ajax({method:"POST",url:s,data:v,onSuccess:function(E,D,F){var G=l.parse(E);if(G===false){A=q.JsonParseFailed;return}A=G.exception;C=[G.description];if(g(G.exception)){return}w=new j.ReadResult(G)},onError:function(E,D,F){A=q.HttpError;C=[F.status]},dataType:"text",async:false});this._setError(A,C);return w};d.prototype.readURLAsync=function(u,t,x,z){if(arguments.length<4){this._setError(q.ParameterNumberUnmatched);return false}if((typeof z!="function")){this._setError(q.TypeNotValid,["asyncFailureFunc"]);return false}if(typeof u!="string"){this._setError(q.TypeNotValid,["imageUrl"],z,t);return false}if(u.length==0){this._setError(q.ValueNotValid,["imageUrl"],z,t);return false}if(typeof x!="function"){this._setError(q.TypeNotValid,["asyncSuccessFunc"],z,t);return false}u=l.trim(u);if(!this._checkAndRepairOption(z,t,true)){return true}var s=this;var w=(u.indexOf("dwt://")==0||u.indexOf("dcs://")==0);var v={method:"POST",url:j._urlRoot+"ReadBarcode",data:null,onSuccess:function(C,B,D){var E=l.parse(C);if(E===false){E={};E.exception=q.JsonParseFailed}s._setThrowDisbleError(E.exception,[E.description],z,t);if(g(E.exception)){return}var A=new j.ReadResult(E);x(t,A)},onError:function(B,A,C){s._setThrowDisbleError(q.HttpError,[C.status],z,t)},dataType:"text",async:true};var y={method:"ReadBarcode",parameter:[j.productKey,null,null,this._toServiceStr()]};if(w){y.parameter[1]=j._EnumDataStoreType.InnerUrl;y.parameter[2]=u;v.data=l.stringify(y);l.ajax(v);return true}else{o(u,function(A,B,C){n(A,true,function(D){if(D){if(!h(D)){s._setThrowDisbleError(q.FileTypeNotSupported,null,z,t);return}y.parameter[1]=j._EnumDataStoreType.Base64;y.parameter[2]=D;v.data=l.stringify(y);l.ajax(v);return}else{if(typeof A=="unknown"){y.parameter[1]=j._EnumDataStoreType.Binary;v.url+="/LoadZipFromBytes?cmd="+encodeURIComponent(l.stringify(y));v.data=A;l.ajax(v);return}else{s._setThrowDisbleError(q.ValueNotValid,["imageUrl"],z,t)}}})},function(B,A,C){s._setThrowDisbleError(q.HttpError,[C.status],z,t)})}return true};d.prototype.readBase64=function(t){if(arguments.length<1){this._setError(q.ParameterNumberUnmatched);return null}if(typeof t!="string"){this._setError(q.TypeNotValid,["base64img"]);return null}if(t.length==0){this._setError(q.ValueNotValid,["base64img"]);return null}t=l.trim(t);if(!this._checkAndRepairOption()){return null}if(!h(t)){this._setError(q.FileTypeNotSupported,["base64img"]);return null}var s;var u;var v;l.ajax({method:"POST",url:j._urlRoot+"ReadBarcode",data:l.stringify({method:"ReadBarcode",parameter:[j.productKey,j._EnumDataStoreType.Base64,t,this._toServiceStr()]}),onSuccess:function(x,w,y){var z=l.parse(x);if(z===false){u=q.JsonParseFailed;return}u=z.exception;v=[z.description];if(g(z.exception)){return}s=new j.ReadResult(z)},onError:function(x,w,y){u=q.HttpError;v=[y.status]},dataType:"text",async:false});this._setError(u,v);return s};d.prototype.readBase64Async=function(v,t,u,w){if(arguments.length<4){this._setError(q.ParameterNumberUnmatched);return false}if((typeof w!="function")){this._setError(q.TypeNotValid,["asyncFailureFunc"]);return false}if(typeof v!="string"){this._setError(q.TypeNotValid,["base64img"],w,t);return false}if(v.length==0){this._setError(q.ValueNotValid,["base64img"],w,t);return false}if(typeof u!="function"){this._setError(q.TypeNotValid,["asyncSuccessFunc"],w,t);return false}v=l.trim(v);if(!this._checkAndRepairOption(w,t,true)){return true}if(!h(v)){this._setThrowDisbleError(q.FileTypeNotSupported,null,w,t);return true}var s=this;l.ajax({method:"POST",url:j._urlRoot+"ReadBarcode",data:l.stringify({method:"ReadBarcode",parameter:[j.productKey,j._EnumDataStoreType.Base64,v,s._toServiceStr()]}),onSuccess:function(z,y,A){var B=l.parse(z);if(B===false){B={};B.exception=q.JsonParseFailed}s._setThrowDisbleError(B.exception,[B.description],w,t);if(g(B.exception)){return}var x=new j.ReadResult(B);u(t,x)},onError:function(y,x,z){s._setThrowDisbleError(q.HttpError,[z.status],w,t)},dataType:"text",async:true});return true};d.prototype.addPages=function(v){if(arguments.length<1){this._setError(q.ParameterNumberUnmatched);return false}if(!(v instanceof Array)){this._setError(q.TypeNotValid,["arrPages"]);return false}v=v.slice();for(var u=0;u<v.length;++u){if(typeof v[u]!="number"){this._setError(q.PageNumberInvalid);return false}v[u]=Math.round(v[u]);if(!i(v[u])){this._setError(q.PageNumberInvalid);return false}}this.Pages=this.Pages.concat(v);this.Pages.sort();var s=[];if(this.Pages.length){s[0]=this.Pages[0]}for(var u=1,t=1;t<this.Pages.length;++t){if(this.Pages[t]!=s[u-1]){s[u]=this.Pages[t];++u}}this.Pages=s;return true};d.prototype.clearAllPages=function(){this.Pages=[];return true};d.prototype.addRegion=function(){if(arguments.length>=5){var z=arguments[4];if(typeof z!="boolean"){this._setError(q.TypeNotValid,["isPercentage"]);return false}var t=["left","top","right","bottom"];for(var v=0;v<4;++v){if(typeof arguments[v]!="number"){this._setError(q.TypeNotValid,[t[v]]);return false}arguments[v]=Math.round(arguments[v]);if(!i(arguments[v])||(arguments[4]?arguments[v]>100:false)){this._setError(q.CustomedRegionInvalid);return false}}var u=arguments[0],A=arguments[1],B=arguments[2],s=arguments[3];if(u>=B||A>=s){this._setError(q.CustomedRegionInvalid);return false}this.Regions.push(new r(u,A,B,s,z));return true}else{if(arguments.length>=2){var y=arguments[0],D=arguments[1];if(typeof D!="number"){this._setError(q.TypeNotValid,["percentage"]);return false}D=Math.round(D);if(!p(D)||D>100){this._setError(q.CustomedRegionInvalid);return false}var x=new Array(0,0,100,100,true);var C=true;var w=j.EnumScanRegionSide;if(y===w.ESRS_Left){x[2]=D}else{if(y===w.ESRS_Top){x[3]=D}else{if(y===w.ESRS_Right){x[0]=100-D}else{if(y===w.ESRS_Bottom){x[1]=100-D}else{C=false}}}}if(!C){this._setError(q.CustomedRegionInvalid);return false}this.Regions.push(new r(x[0],x[1],x[2],x[3],x[4]));return true}else{this._setError(q.ParameterNumberUnmatched);return false}}};d.prototype.clearAllRegions=function(){this.Regions=[];return true};d.prototype.addAngleRange=function(s,t){if(arguments.length<2){this._setError(q.ParameterNumberUnmatched);return false}if(typeof s!="number"){this._setError(q.TypeNotValid,["fromAngle"]);return false}if(typeof t!="number"){this._setError(q.TypeNotValid,["toAngle"]);return false}s=Math.round(s);t=Math.round(t);if(!f(s)){this._setError(q.ValueNotValid,["fromAngle"]);return false}if(!f(t)){this._setError(q.ValueNotValid,["toAngle"]);return false}this.AngleRanges.push(new m(s,t));return true};d.prototype.addAngle=function(s){if(arguments.length<1){this._setError(q.ParameterNumberUnmatched);return false}if(s==j.EnumBarcodeOrientationType.EBOT_Horizontal){this.AngleRanges.push(new m(315,45));this.AngleRanges.push(new m(135,225));return true}else{if(s==j.EnumBarcodeOrientationType.EBOT_Vertical){this.AngleRanges.push(new m(45,135));this.AngleRanges.push(new m(225,315));return true}else{this._setError(q.ValueNotValid,["emType"]);return false}}};d.prototype.clearAllAngles=function(){this.AngleRanges=[];return true};d.prototype._checkAndRepairOption=function(t,s,u){if(typeof this.barcodeFormats!="number"){this._setError(q.TypeNotValid,["barcodeFormats"],t,s,u);return false}this.barcodeFormats=Math.round(this.barcodeFormats);if(!k(this.barcodeFormats)){this._setError(q.BarcodeFormatInvalid,t,s,u);return false}if(typeof this.maxBarcodesNumPerPage!="number"){this._setError(q.TypeNotValid,["maxBarcodesNumPerPage"],t,s,u);return false}this.maxBarcodesNumPerPage=Math.round(this.maxBarcodesNumPerPage);if(!p(this.maxBarcodesNumPerPage)){this._setError(q.MaxBarcodeNumberInvalid);return false}if(typeof this.timeoutPerPage!="number"){this._setError(q.TypeNotValid,["timeoutPerPage"],t,s,u);return false}this.timeoutPerPage=Math.round(this.timeoutPerPage);if(!p(this.timeoutPerPage)){this._setError(q.ValueNotValid,["timeoutPerPage"],t,s,u);return false}if(this.useOneDDeblur==true){this.useOneDDeblur=true}else{if(this.useOneDDeblur==false){this.useOneDDeblur=false}else{this._setError(q.ValueNotValid,["useOneDDeblur"],t,s,u);return false}}if(!j._isInEnum(this.imageCaptureDevice,j.EnumImageCaptureDevice)){this._setError(q.ValueNotValid,["imageCaptureDevice"],t,s,u);return false}if(!j._isInEnum(this.barcodeColorMode,j.EnumBarcodeColorMode)){this._setError(q.ValueNotValid,["barcodeColorMode"],t,s,u);return false}if(!j._isInEnum(this.barcodeTextEncoding,j.EnumBarcodeTextEncoding)){this._setError(q.ValueNotValid,["barcodeTextEncoding"],t,s,u);return false}return true};d.prototype._toServiceStr=function(){var s={};s.UseOneDDeblur=this.useOneDDeblur?1:0;s.ImageCaptureDevice=this.imageCaptureDevice;s.BarcodeFormats=this.barcodeFormats;s.MaxBarcodesNumPerPage=this.maxBarcodesNumPerPage;s.TimeoutPerPage=this.timeoutPerPage;s.BarcodeColorMode=this.barcodeColorMode;s.BarcodeTextEncoding=this.barcodeTextEncoding;s.Pages=this.Pages;s.Regions=this.Regions;s.AngleRanges=this.AngleRanges;return'"'+l.stringify(s).replace(/"/g,"'")+'"'};d.prototype._setError=function(x,w,t,s,v){var y=b[x];if(typeof y=="undefined"){w.unshift(x);x=q.ServiceInternalError;y=b[x]}this.errorCode=x;if(typeof w!="undefined"&&w!=null){if(w instanceof Array){for(var u=0;u<w.length;++u){y=y.replace("{"+u+"}",w[u])}}else{if(typeof w=="string"){y=w}}}this.errorStr=y;if(g(x)){if(!v&&dynamsoft.dbrEnv.ifThrowException){throw new Error(y)}if(t){t(s,x,y)}}};d.prototype._setThrowDisbleError=function(v,u,t,s){this._setError(v,u,t,s,true)};d.prototype.getErrorCode=function(){return this.errorCode};d.prototype.getErrorString=function(){return this.errorStr};j.BarcodeReader=d;j._barcodeReaderLoaded=true})(dynamsoft.dbrEnv,dynamsoft.lib);(function(b,e){if(b._readResultLoaded){return}var a=function(g){this.length=0;if(g.result instanceof Array){if(dynamsoft.navInfo.bIE&&parseInt(dynamsoft.navInfo.strBrowserVersion)<=9){for(var f=0;f<g.result.length;++f){this[f]=g.result[f];++this.length}}else{for(var f=0;f<g.result.length;++f){this.push(g.result[f])}}}this.exception=g.exception;this.description=g.description};if(!(dynamsoft.navInfo.bIE&&parseInt(dynamsoft.navInfo.strBrowserVersion)<=9)){var d=function(){};d.prototype=Array.prototype;a.prototype=new d()}a.prototype.constructor=a;a.prototype.getCount=function(){return this.length};a.prototype.get=function(f){return this[f]};b.ReadResult=a;b._readResultLoaded=true})(dynamsoft.dbrEnv,dynamsoft.lib);
